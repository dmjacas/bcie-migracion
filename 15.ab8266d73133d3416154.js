(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+WFb":function(t,e,i){"use strict";i.r(e),i.d(e,"RegistroModule",(function(){return Fa}));var a=i("tyNb"),n=i("ofXK"),r=i("o0su"),o=i("fXoL"),c=i("sYmb"),s=i("1kSV"),b=i("kmnG"),l=i("qFsG"),d=function(){function t(t){this._el=t}return t.prototype.onInputChange=function(t){var e=this._el.nativeElement.value;this._el.nativeElement.value=e.replace(/[^0-9.]*/g,"");var i=this._el.nativeElement.value.lastIndexOf(".");this._el.nativeElement.value.indexOf(".")!==i&&(this._el.nativeElement.value=this._el.nativeElement.value.substr(0,i)),e!==this._el.nativeElement.value&&t.stopPropagation()},t.\u0275fac=function(e){return new(e||t)(o.Qb(o.l))},t.\u0275dir=o.Lb({type:t,selectors:[["input","numberFloat",""]],hostBindings:function(t,e){1&t&&o.ic("input",(function(t){return e.onInputChange(t)}))}}),t}(),u=i("3Pt+"),g=function(){function t(){this.delete=new o.o}return t.prototype.ngOnInit=function(){},t.prototype.borrarTodo=function(t){this.delete.emit(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["app-delete"]],inputs:{texto:"texto"},outputs:{delete:"delete"},decls:10,vars:1,consts:[[1,"cuerpo-borrar"],[1,"card"],[1,"car-body"],[1,"col-12","texto"],[1,"col-12","botones"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Pc(4),o.Vb(),o.Wb(5,"div",4),o.Wb(6,"button",5),o.ic("click",(function(){return e.borrarTodo(!0)})),o.Pc(7,"Si"),o.Vb(),o.Wb(8,"button",6),o.ic("click",(function(){return e.borrarTodo(!1)})),o.Pc(9,"No"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(4),o.Rc(" ",e.texto," "))},styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,300,700\'");.preloader[_ngcontent-%COMP%]{width:100%;height:100%;top:0;position:fixed;z-index:99999;background:#fff}.preloader[_ngcontent-%COMP%]   .cssload-speeding-wheel[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 3.5px);left:calc(50% - 3.5px)}.cuerpo-borrar[_ngcontent-%COMP%]{width:270px;height:90px;text-align:center;position:absolute;margin-left:-240px;z-index:6666;margin-top:-10px;border-radius:5px;border-color:solid 1px #67757c!important}.cuerpo-borrar[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;color:#67757c}.cuerpo-borrar[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{margin-top:10px}.cuerpo-borrar[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{min-width:60px;margin-left:10px;margin-right:10px;padding-left:10px;padding-right:10px}']}),t}();function h(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",34),o.ic("delete",(function(t){return o.Dc(i),o.mc(2).deleteAll(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(1),o.sc("texto",a.textoDelete)}}function p(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Pc(2),o.Vb(),o.Wb(3,"td"),o.Pc(4),o.Vb(),o.Wb(5,"td"),o.Pc(6),o.nc(7,"number"),o.Vb(),o.Wb(8,"td"),o.Pc(9),o.nc(10,"number"),o.Vb(),o.Wb(11,"td"),o.Wb(12,"button",30),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().editar(t)})),o.Rb(13,"i",31),o.Vb(),o.Vb(),o.Wb(14,"td"),o.Wb(15,"button",30),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().eliminar(t)})),o.Rb(16,"i",32),o.Vb(),o.Nc(17,h,2,1,"div",33),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.Qc(a.factura),o.Cb(2),o.Qc(a.verificable),o.Cb(2),o.Qc(o.pc(7,5,a.valor,"0.1-2")),o.Cb(3),o.Qc(o.pc(10,8,a.costo,"0.1-2")),o.Cb(8),o.sc("ngIf",a.ocultar)}}var f=function(){function t(t,e){this.green=t,this.reg=e,this.recargar=new o.o}return t.prototype.ngOnInit=function(){this.nombreUnidad="m 3.",this.lista=this.datos.data,this.totalM=this.datos.valor,this.totalMoneda=this.datos.costo,this.tipo=0,this.id=null},t.prototype.cambiar=function(t){null==this.mcubicos&&(this.mcubicos=0),t!==this.tipo&&(0===Number(t)?(this.nombreUnidad="m 3.",this.mcubicos=.028316847*this.mcubicos):(this.nombreUnidad="ft 3",this.mcubicos=this.mcubicos/.028316847),this.tipo=t)},t.prototype.editar=function(t){this.id=t.idFactura,this.factura=t.factura,this.referencia=t.verificable,this.mcubicos=t.valor,this.costo=t.costo,this.tipo=t.tipo,1===this.tipo&&(this.nombreUnidad="ft 3",this.mcubicos=Number((this.mcubicos/.028316847).toFixed(2)))},t.prototype.eliminar=function(t){this.itemSel=t,this.textoDelete="Desea eliminar el registro: "+t.factura,t.ocultar=!t.ocultar},t.prototype.deleteAll=function(t){var e=this;t?(this.green.bloquear(),this.reg.deleteCombustible({id:this.itemSel.idFactura}).subscribe((function(t){try{e.green.succes(e.green.msgExito),e.green.desbloquear(),e.totalM=0,e.totalMoneda=0,e.lista.splice(e.lista.indexOf(e.itemSel),1),e.lista.forEach((function(t){e.totalM+=t.valor,e.totalMoneda+=t.costo})),e.green.desbloquear()}catch(i){e.green.desbloquear()}}))):this.itemSel.ocultar=!1},t.prototype.validar=function(){return void 0===this.factura||null==this.factura?(this.green.error("Factura es obligatorio"),!1):void 0===this.referencia||null==this.referencia?(this.green.error("Referencia es obligatorio"),!1):void 0===this.mcubicos||null==this.mcubicos?(this.green.error("Valor es obligatorio"),!1):void 0!==this.costo&&null!=this.costo||(this.green.error("Moneda Local es obligatorio"),!1)},t.prototype.guardar=function(){var t=this;if(this.validar()){var e=10.47538*this.mcubicos;1==this.tipo&&(this.mcubicos/=.028316847);var i={anio:this.reg.anio,costo:this.costo,facturas:this.factura,gal:this.tipo,idCatalogo:this.reg.catalogo,idFactura:this.id,idUnidad:this.reg.unidad,kilometros:e,litros:this.mcubicos,mes:this.reg.mes,org:this.green.orgSelected,referencia:this.referencia,rendimiento:10.47538};this.lista=[],this.green.bloquear(),this.reg.nuevoCombustible(i).subscribe((function(e){try{t.costo=0,t.factura="N/A",t.id=null,t.referencia="N/A",t.tipo=0,t.mcubicos=0,t.totalM=e.data.valor,t.lista=e.data.data,t.totalMoneda=e.data.costo,t.green.desbloquear()}catch(i){t.green.desbloquear()}}))}},t.prototype.terminar=function(){this.recargar.emit({valor:this.totalM,costo:this.totalMoneda})},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.e),o.Qb(r.h))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-gasnatural"]],inputs:{datos:"datos"},outputs:{recargar:"recargar"},decls:85,vars:19,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col-2"],[1,"form-check-label"],["name","tipo","type","radio",1,"form-check-input",3,"value","ngModel","ngModelChange","click"],["name","tipo","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange","click"],[1,"col-3"],[1,"form-group"],[1,"subtitulo"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["numberFloat","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-1"],[2,"width","100%"],["placement","top","ngbTooltip","Guardar",1,"btn","btn-sm",2,"margin-top","8px","color","#808081",3,"click"],[1,"fa","fa-2x","fa-plus"],[1,"row","g-grid"],[1,"col-12",2,"padding-bottom","30px"],[1,"table","table-verificable"],[2,"width","30%"],[2,"width","20%"],["colspan","2",2,"width","10%"],[4,"ngFor","ngForOf"],[1,"row",2,"height","40px"],[1,"col-8"],[1,"table-total",2,"width","430px"],[2,"width","10%"],[1,"row",2,"margin-top","20px"],[1,"col-12","text-center"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","trasparent",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-trash"],[4,"ngIf"],[3,"texto","delete"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Rb(3,"div",3),o.Wb(4,"div",3),o.Wb(5,"label",4),o.Wb(6,"input",5),o.ic("ngModelChange",(function(t){return e.tipo=t}))("click",(function(){return e.cambiar(0)})),o.Vb(),o.Pc(7," m"),o.Wb(8,"small"),o.Pc(9,"3"),o.Vb(),o.Vb(),o.Vb(),o.Wb(10,"div",3),o.Wb(11,"label",4),o.Wb(12,"input",6),o.ic("ngModelChange",(function(t){return e.tipo=t}))("click",(function(){return e.cambiar(1)})),o.Vb(),o.Pc(13," ft"),o.Wb(14,"small"),o.Pc(15,"3"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(16,"div",2),o.Wb(17,"div",7),o.Wb(18,"div",8),o.Wb(19,"label",9),o.Pc(20,"Factura"),o.Vb(),o.Wb(21,"input",10),o.ic("ngModelChange",(function(t){return e.factura=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(22,"div",7),o.Wb(23,"div",8),o.Wb(24,"label",9),o.Pc(25,"Referencia"),o.Vb(),o.Wb(26,"input",10),o.ic("ngModelChange",(function(t){return e.referencia=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(27,"div",3),o.Wb(28,"div",8),o.Wb(29,"label",9),o.Pc(30),o.Vb(),o.Wb(31,"input",11),o.ic("ngModelChange",(function(t){return e.mcubicos=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(32,"div",3),o.Wb(33,"div",8),o.Wb(34,"label",9),o.Pc(35,"Moneda Local"),o.Vb(),o.Wb(36,"input",11),o.ic("ngModelChange",(function(t){return e.costo=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(37,"div",12),o.Rb(38,"label",13),o.Wb(39,"button",14),o.ic("click",(function(){return e.guardar()})),o.Rb(40,"i",15),o.Vb(),o.Vb(),o.Vb(),o.Wb(41,"div",16),o.Wb(42,"div",17),o.Wb(43,"table",18),o.Wb(44,"thead"),o.Wb(45,"tr"),o.Wb(46,"th",19),o.Pc(47,"Factura"),o.Vb(),o.Wb(48,"th",20),o.Pc(49,"Referencia"),o.Vb(),o.Wb(50,"th",20),o.Pc(51,"M"),o.Wb(52,"small"),o.Pc(53,"3"),o.Vb(),o.Pc(54,"."),o.Vb(),o.Wb(55,"th",20),o.Pc(56," Moneda Local"),o.Vb(),o.Rb(57,"th",21),o.Vb(),o.Vb(),o.Wb(58,"tbody"),o.Nc(59,p,18,11,"tr",22),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(60,"div",1),o.Wb(61,"div",23),o.Wb(62,"div",24),o.Wb(63,"table",25),o.Wb(64,"thead"),o.Wb(65,"tr"),o.Wb(66,"th"),o.Pc(67,"Total M3. "),o.Vb(),o.Wb(68,"th"),o.Pc(69,"Total Moneda"),o.Vb(),o.Wb(70,"th"),o.Pc(71,"Total de Registro"),o.Vb(),o.Vb(),o.Wb(72,"tr"),o.Wb(73,"th",26),o.Pc(74),o.nc(75,"number"),o.Vb(),o.Wb(76,"th",26),o.Pc(77),o.nc(78,"number"),o.Vb(),o.Wb(79,"th",26),o.Pc(80),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(81,"div",27),o.Wb(82,"div",28),o.Wb(83,"button",29),o.ic("click",(function(){return e.terminar()})),o.Pc(84,"Guardar"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(6),o.sc("value",0)("ngModel",e.tipo),o.Cb(6),o.sc("ngModel",e.tipo)("value",1),o.Cb(9),o.sc("ngModel",e.factura),o.Cb(5),o.sc("ngModel",e.referencia),o.Cb(4),o.Qc(e.nombreUnidad),o.Cb(1),o.sc("ngModel",e.mcubicos),o.Cb(5),o.sc("ngModel",e.costo),o.Cb(23),o.sc("ngForOf",e.lista),o.Cb(15),o.Rc(" ",o.pc(75,13,e.totalM,"0.1-2")," "),o.Cb(3),o.Rc(" ",o.pc(78,16,e.totalMoneda,"0.1-2")," "),o.Cb(3),o.Rc(" ",e.lista.length," "))},directives:[u.u,u.d,u.o,u.r,d,s.n,n.l,n.m,g],pipes:[n.e],encapsulation:2}),t}();function m(t,e){1&t&&(o.Wb(0,"span"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Rc(" ",o.oc(2,1,"si")," "))}function v(t,e){1&t&&(o.Wb(0,"span"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Rc(" ",o.oc(2,1,"no")," "))}function V(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",33),o.ic("delete",(function(t){return o.Dc(i),o.mc(2).delete(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(1),o.sc("texto",a.textoDelete)}}function W(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Pc(2),o.Vb(),o.Wb(3,"td"),o.Pc(4),o.Vb(),o.Wb(5,"td"),o.Pc(6),o.Vb(),o.Wb(7,"td"),o.Pc(8),o.Vb(),o.Wb(9,"td"),o.Nc(10,m,3,3,"span",29),o.Nc(11,v,3,3,"span",29),o.Vb(),o.Wb(12,"td"),o.Wb(13,"button",30),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().editar(t)})),o.Rb(14,"i",31),o.Vb(),o.Vb(),o.Wb(15,"td"),o.Wb(16,"button",30),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().borrar(t)})),o.Rb(17,"i",32),o.Vb(),o.Nc(18,V,2,1,"div",29),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.Qc(a.verificable),o.Cb(2),o.Qc(a.nopersonas),o.Cb(2),o.Qc(a.kilometros),o.Cb(2),o.Qc(a.dias),o.Cb(2),o.sc("ngIf",1==a.almuerzo),o.Cb(1),o.sc("ngIf",1!=a.almuerzo),o.Cb(7),o.sc("ngIf",a.ocultar)}}var C=function(){function t(t,e,i){this.green=t,this.reg=e,this.translate=i,this.recargar=new o.o,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){this.lista=[];try{this.lista=this.datos.data.lista,this.total=this.datos.data.total}catch(t){this.lista=[],this.total=0}},t.prototype.borrar=function(t){null!=this.itemSel&&void 0!==this.itemSel&&(this.itemSel.ocultar=!1),this.textoDelete="Desea eliminar el registro: "+t.verificable,t.ocultar=!0,this.itemSel=t},t.prototype.delete=function(t){var e=this;this.itemSel.ocultar=!1,t&&(this.green.bloquear(),this.reg.eliminarCommuting({id:this.itemSel.idfactura}).subscribe((function(t){try{e.recargarData(),e.green.desbloquear()}catch(i){e.green.desbloquear()}})))},t.prototype.recargarData=function(){var t=this,e={anio:this.reg.anio,idCatalogo:this.reg.catalogo,idOrganizacion:this.green.orgSelected};this.green.bloquear(),this.reg.contadoresCommuting(e).subscribe((function(e){try{t.lista=e.data.lista,t.total=e.data.total,t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.prototype.editar=function(t){this.idReg=t.idfactura,this.referencia=t.verificable,this.dias=t.dias,this.almuerzo=t.almuerzo,this.npersonas=t.nopersonas;var e=Number(t.kilometros)/t.nopersonas/this.dias;this.almuerzo&&(e/=2),this.distancia=e},t.prototype.validar=function(){return null==this.referencia||void 0===this.referencia?(this.green.error("Referencia es requerido"),!1):null==this.npersonas||void 0===this.npersonas?(this.green.error("N\xfamero de personas es requerido"),!1):null==this.distancia||void 0===this.distancia?(this.green.error("Distancia es requerido"),!1):null!=this.dias&&void 0!==this.dias||(this.green.error("D\xedas es requerido"),!1)},t.prototype.guardar=function(){var t=this;if(this.validar()){var e=this.distancia*this.npersonas*this.dias;this.almuerzo&&(e*=2);var i={idCatalogo:this.reg.catalogo,idOrganizacion:this.green.orgSelected,anio:this.reg.anio,id:this.idReg,referencia:this.referencia,kilometros:e,dias:this.dias,almuerzo:this.almuerzo,nopersonas:this.npersonas};this.green.bloquear(),this.reg.guardarCommuting(i).subscribe((function(e){try{t.idReg=null,t.referencia=null,t.almuerzo=null,t.npersonas=null,t.dias=null,t.distancia=null,t.green.succes(e.mensaje),t.recargarData(),t.green.desbloquear()}catch(i){t.green.desbloquear()}}))}},t.prototype.terminar=function(){this.recargar.emit({valor:this.total})},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.e),o.Qb(r.h),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-comuting"]],inputs:{datos:"datos"},outputs:{recargar:"recargar"},decls:85,vars:53,consts:[[1,"modal-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-2"],[1,"form-group"],[1,"subtitulo"],["required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["numberFloat","","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"form-check"],[1,"form-group",2,"text-align","center"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"col-1"],[2,"width","100%"],["placement","top",1,"btn","btn-sm",2,"margin-top","5px","color","#808081",3,"ngbTooltip","click"],[1,"fa","fa-2x","fa-plus"],[1,"row","g-grid"],[1,"col-12"],[1,"table","table-verificable",2,"margin-bottom","50px"],[2,"width","20%"],[2,"width","15%"],["colspan","2",2,"width","10%"],[4,"ngFor","ngForOf"],[1,"row",2,"height","40px"],[1,"col-8"],[1,"table-total",2,"width","430px"],[2,"width","10%"],[1,"modal-footer"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[4,"ngIf"],[1,"btn","btn-sm","trasparent",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-trash"],[3,"texto","delete"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Wb(4,"div",4),o.Wb(5,"div",5),o.Wb(6,"label",6),o.Pc(7),o.nc(8,"translate"),o.Vb(),o.Wb(9,"input",7),o.ic("ngModelChange",(function(t){return e.referencia=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(10,"div",4),o.Wb(11,"div",5),o.Wb(12,"label",6),o.Pc(13),o.nc(14,"translate"),o.Vb(),o.Wb(15,"input",8),o.ic("ngModelChange",(function(t){return e.npersonas=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(16,"div",4),o.Wb(17,"div",5),o.Wb(18,"label",6),o.Pc(19),o.nc(20,"translate"),o.Vb(),o.Wb(21,"input",8),o.ic("ngModelChange",(function(t){return e.distancia=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(22,"div",4),o.Wb(23,"div",5),o.Wb(24,"label",6),o.Pc(25),o.nc(26,"translate"),o.Vb(),o.Wb(27,"input",8),o.ic("ngModelChange",(function(t){return e.dias=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(28,"div",4),o.Wb(29,"div",9),o.Wb(30,"label",6),o.Pc(31),o.nc(32,"translate"),o.Vb(),o.Wb(33,"div",10),o.Wb(34,"input",11),o.ic("ngModelChange",(function(t){return e.almuerzo=t})),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(35,"div",12),o.Rb(36,"label",13),o.Wb(37,"button",14),o.ic("click",(function(){return e.guardar()})),o.nc(38,"translate"),o.Rb(39,"i",15),o.Vb(),o.Vb(),o.Vb(),o.Wb(40,"div",16),o.Wb(41,"div",17),o.Wb(42,"table",18),o.Wb(43,"thead"),o.Wb(44,"tr"),o.Wb(45,"th",19),o.Pc(46),o.nc(47,"translate"),o.Vb(),o.Wb(48,"th",19),o.Pc(49),o.nc(50,"translate"),o.Vb(),o.Wb(51,"th",19),o.Pc(52),o.nc(53,"translate"),o.Vb(),o.Wb(54,"th",20),o.Pc(55),o.nc(56,"translate"),o.Vb(),o.Wb(57,"th",20),o.Pc(58),o.nc(59,"translate"),o.Vb(),o.Rb(60,"th",21),o.Vb(),o.Vb(),o.Wb(61,"tbody"),o.Nc(62,W,19,7,"tr",22),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(63,"div",2),o.Wb(64,"div",23),o.Wb(65,"div",24),o.Wb(66,"table",25),o.Wb(67,"thead"),o.Wb(68,"tr"),o.Wb(69,"th"),o.Pc(70),o.nc(71,"translate"),o.Vb(),o.Wb(72,"th"),o.Pc(73),o.nc(74,"translate"),o.Vb(),o.Vb(),o.Wb(75,"tr"),o.Wb(76,"th",26),o.Pc(77),o.nc(78,"number"),o.Vb(),o.Wb(79,"th",26),o.Pc(80),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(81,"div",27),o.Wb(82,"button",28),o.ic("click",(function(){return e.terminar()})),o.Pc(83),o.nc(84,"translate"),o.Vb(),o.Vb()),2&t&&(o.Cb(7),o.Qc(o.oc(8,22,"referencia")),o.Cb(2),o.sc("ngModel",e.referencia),o.Cb(4),o.Rc("",o.oc(14,24,"numero_personas")," "),o.Cb(2),o.sc("ngModel",e.npersonas),o.Cb(4),o.Qc(o.oc(20,26,"distancia_km")),o.Cb(2),o.sc("ngModel",e.distancia),o.Cb(4),o.Qc(o.oc(26,28,"dias")),o.Cb(2),o.sc("ngModel",e.dias),o.Cb(4),o.Rc(" ",o.oc(32,30,"regreso_almuerzo")," "),o.Cb(3),o.sc("ngModel",e.almuerzo),o.Cb(3),o.tc("ngbTooltip",o.oc(38,32,"guardar")),o.Cb(9),o.Qc(o.oc(47,34,"referencia")),o.Cb(3),o.Qc(o.oc(50,36,"numero_personas")),o.Cb(3),o.Qc(o.oc(53,38,"kilometros")),o.Cb(3),o.Qc(o.oc(56,40,"dias")),o.Cb(3),o.Qc(o.oc(59,42,"almuerzo")),o.Cb(4),o.sc("ngForOf",e.lista),o.Cb(8),o.Qc(o.oc(71,44,"total")),o.Cb(3),o.Qc(o.oc(74,46,"total_egistro")),o.Cb(4),o.Rc(" ",o.pc(78,48,e.total,"0.1-2")," "),o.Cb(3),o.Rc(" ",e.lista.length," "),o.Cb(3),o.Rc(" ",o.oc(84,51,"guardar")," "))},directives:[u.d,u.w,u.o,u.r,d,u.a,s.n,n.l,n.m,g],pipes:[c.c,n.e],encapsulation:2}),t}();function M(t,e){1&t&&(o.Wb(0,"span"),o.Pc(1," Deshabilitar medidores "),o.Vb())}function P(t,e){1&t&&(o.Wb(0,"span"),o.Pc(1," Activar medidores "),o.Vb())}function x(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",15),o.Wb(1,"button",16),o.ic("click",(function(){return o.Dc(i),o.mc(2).desactivarMedidor()})),o.Nc(2,M,2,0,"span",17),o.Nc(3,P,2,0,"span",17),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(2),o.sc("ngIf",a.disableMedidor),o.Cb(1),o.sc("ngIf",!a.disableMedidor)}}function y(t,e){if(1&t&&(o.Wb(0,"th",11),o.Wb(1,"a",18),o.Pc(2),o.Vb(),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.sc("title",i.nombre),o.Cb(1),o.Rc(" ",i.nombre.substr(0,15)," ")}}function O(t,e){if(1&t){var i=o.Xb();o.Wb(0,"td"),o.Wb(1,"mat-form-field",22),o.Wb(2,"input",23),o.ic("click",(function(t){o.Dc(i);var a=e.$implicit,n=o.mc(),r=n.index,c=n.$implicit,s=o.mc(2),b=o.Bc(11);return s.medidor(t,s.matriz[r][a.idUnidad].valor,b,s.catalogo,c,a.idUnidad)}))("ngModelChange",(function(t){o.Dc(i);var a=e.$implicit,n=o.mc().index;return o.mc(2).matriz[n][a.idUnidad].valor=t})),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit,n=o.mc(),r=n.index,c=n.$implicit,s=o.mc(2);o.Cb(2),o.sc("disabled",(0!=s.matriz[r][a.idUnidad].edit||c.bloqueo)&&s.disableMedidor)("ngModel",s.matriz[r][a.idUnidad].valor)}}var k=function(t,e,i){return["/registro/verificable",t,e,i]};function N(t,e){if(1&t&&(o.Wb(0,"tr"),o.Wb(1,"td",19),o.Wb(2,"div",20),o.Rb(3,"i",21),o.Pc(4),o.Vb(),o.Vb(),o.Nc(5,O,3,2,"td",13),o.Vb()),2&t){var i=e.$implicit,a=o.mc(2);o.Cb(2),o.sc("routerLink",o.yc(3,k,a.anio,a.catalogo,i.id)),o.Cb(2),o.Rc(" ",i.mes," "),o.Cb(1),o.sc("ngForOf",a.unidades)}}function w(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",7),o.Nc(1,x,4,2,"div",8),o.Wb(2,"div",9),o.Wb(3,"table",10),o.Wb(4,"thead"),o.Wb(5,"tr"),o.Wb(6,"th",11),o.Pc(7,"Mes"),o.Vb(),o.Nc(8,y,3,2,"th",12),o.Vb(),o.Vb(),o.Wb(9,"tbody"),o.Nc(10,N,6,7,"tr",13),o.Vb(),o.Vb(),o.Vb(),o.Wb(11,"div",9),o.Wb(12,"button",14),o.ic("click",(function(){return o.Dc(i),o.mc().guardar()})),o.Pc(13," Guardar "),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(1),o.sc("ngIf",a.esMaestro),o.Cb(7),o.sc("ngForOf",a.unidades),o.Cb(2),o.sc("ngForOf",a.meses)}}function R(t,e){1&t&&(o.Wb(0,"h4",30),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Rc(" ",o.oc(2,1,"medidor")," "))}function D(t,e){1&t&&(o.Wb(0,"h4",30),o.Pc(1," Registro de Combustible "),o.Vb())}function Q(t,e){1&t&&(o.Wb(0,"h4",30),o.Pc(1," Medidor de Papel "),o.Vb())}function I(t,e){1&t&&(o.Wb(0,"h4",30),o.Pc(1," Registro Residuos S\xf3lidos "),o.Vb())}function F(t,e){1&t&&(o.Wb(0,"h4",30),o.Pc(1," Registro de Gas Natural "),o.Vb())}function _(t,e){1&t&&(o.Wb(0,"h4",30),o.Pc(1," Viajes Aereos "),o.Vb())}function z(t,e){1&t&&(o.Wb(0,"h4",30),o.Pc(1," Registro de commuting "),o.Vb())}function q(t,e){1&t&&(o.Wb(0,"h4",30),o.Pc(1," Gas Refrigerante "),o.Vb())}function S(t,e){1&t&&(o.Wb(0,"a",31),o.Rb(1,"i",32),o.Pc(2," Importar datos "),o.Vb())}function L(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",7),o.Wb(1,"div",9),o.Wb(2,"app-gasnatural",33),o.ic("recargar",(function(t){return o.Dc(i),o.mc(2).recargar(t)})),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(2),o.sc("datos",a.datos)}}function $(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",7),o.Wb(1,"div",9),o.Wb(2,"app-comuting",33),o.ic("recargar",(function(t){return o.Dc(i),o.mc(2).recargar(t)})),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(2),o.sc("datos",a.datos)}}function j(t,e){if(1&t&&(o.Wb(0,"div",24),o.Nc(1,R,3,3,"h4",25),o.Nc(2,D,2,0,"h4",25),o.Nc(3,Q,2,0,"h4",25),o.Nc(4,I,2,0,"h4",25),o.Nc(5,F,2,0,"h4",25),o.Nc(6,_,2,0,"h4",25),o.Nc(7,z,2,0,"h4",25),o.Nc(8,q,2,0,"h4",25),o.Nc(9,S,3,0,"a",26),o.Wb(10,"div",27),o.Pc(11),o.Vb(),o.Wb(12,"button",28),o.ic("click",(function(){return(0,e.dismiss)("Cross click")})),o.Wb(13,"span",29),o.Pc(14,"\xd7"),o.Vb(),o.Vb(),o.Vb(),o.Nc(15,L,3,1,"div",3),o.Nc(16,$,3,1,"div",3)),2&t){var i=o.mc();o.Cb(1),o.sc("ngIf",1==i.tipoMedidor),o.Cb(1),o.sc("ngIf",3==i.tipoMedidor),o.Cb(1),o.sc("ngIf",4==i.tipoMedidor),o.Cb(1),o.sc("ngIf",5==i.tipoMedidor),o.Cb(1),o.sc("ngIf",6==i.tipoMedidor),o.Cb(1),o.sc("ngIf",7==i.tipoMedidor),o.Cb(1),o.sc("ngIf",8==i.tipoMedidor),o.Cb(1),o.sc("ngIf",9==i.tipoMedidor),o.Cb(1),o.sc("ngIf",1!=i.tipoMedidor),o.Cb(2),o.Rc(" ",i.nombreMes," "),o.Cb(4),o.sc("ngIf",6==i.tipoMedidor&&i.datos),o.Cb(1),o.sc("ngIf",8==i.tipoMedidor&&i.datos)}}var U=function(){function t(t,e,i,a,n,r,o){this.reg=t,this.admin=e,this.translate=i,this.route=a,this.green=n,this.router=r,this.modalService=o,this.modalReference=null,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){this.tipoMedidor=0;var t={anio:Number(this.route.snapshot.paramMap.get("anio")),idCatalogoFuente:Number(this.route.snapshot.paramMap.get("fuente")),idOrganizacion:this.green.orgSelected};this.catalogo=Number(this.route.snapshot.paramMap.get("fuente")),this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.save=Number(this.route.snapshot.paramMap.get("save")),this.idOrg=this.green.orgSelected,this.esMaestro=this.green.usuarioMaestro,this.loadData(t),this.disableMedidor=!0},t.prototype.desactivarMedidor=function(){this.disableMedidor=!this.disableMedidor},t.prototype.loadData=function(t){var e=this;this.green.bloquear(),this.reg.getMatriz(t).subscribe((function(t){try{e.porciento=t.data.porciento,e.alcance=t.data.alcance,e.matriz=t.data.matriz,e.unidades=t.data.unidades,e.meses=t.data.meses,e.tittle=t.data.entidad,e.nombreFuente=t.data.nombre_fuente,e.idFuente=t.data.fuente,e.unidadGeiga=t.data.unidad_geiga,(isNaN(e.green.orgSelected)||0===Number(e.green.orgSelected)||null==e.green.orgSelected)&&e.green.ajustarOrg(t.data.idOrg),1===e.save?e.guardar():e.green.desbloquear()}catch(i){e.green.desbloquear()}}))},t.prototype.guardar=function(){var t=this;try{1!==this.save&&this.green.bloquear(),this.save=0;var e={alcance:this.alcance,anio:this.anio,idCatalogo:this.catalogo,idOrg:this.idOrg,porciento:this.porciento,valor:this.matriz};6===this.idFuente?this.reg.guardarGases(e).subscribe((function(e){t.green.desbloquear(),t.green.succes(e.mensaje);var i={anio:Number(t.route.snapshot.paramMap.get("anio")),idCatalogoFuente:Number(t.route.snapshot.paramMap.get("fuente")),idOrganizacion:t.green.orgSelected};t.loadData(i)})):10===this.idFuente?this.reg.guardarRegistrosviajesaereos(e).subscribe((function(e){t.green.desbloquear(),t.green.succes(e.mensaje);var i={anio:Number(t.route.snapshot.paramMap.get("anio")),idCatalogoFuente:Number(t.route.snapshot.paramMap.get("fuente")),idOrganizacion:t.green.orgSelected};t.loadData(i)})):this.reg.guardarGeneral(e).subscribe((function(e){t.green.desbloquear(),t.green.succes(e.mensaje);var i={anio:Number(t.route.snapshot.paramMap.get("anio")),idCatalogoFuente:Number(t.route.snapshot.paramMap.get("fuente")),idOrganizacion:t.green.orgSelected};t.loadData(i)}))}catch(i){this.green.desbloquear()}},t.prototype.medidor=function(t,e,i,a,n,r){var o=this;if(this.idUnidad=r,this.mes=n,this.disableMedidor&&(this.green.tieneMedidor(r)||this.green.medidorGas(a))){if(this.green.bloquear(),t.srcElement.blur(),t.preventDefault(),this.nombreMes=n.mes,this.reg.mes=n.id,this.reg.catalogo=this.catalogo,this.reg.nombreMes=n.mes,this.reg.anio=this.anio,this.reg.unidad=r,this.reg.valor=e,this.green.medidorElect(a))this.router.navigate(["/registro/electricidad/"+this.anio+"/"+this.catalogo+"/"+n.id+"/"+r]);else if(this.green.medidorDiesel(a))this.router.navigate(["/registro/combustible/"+this.anio+"/"+this.catalogo+"/"+n.id+"/"+r]);else if(this.green.medidorNotrasporte(a))this.router.navigate(["/registro/notrasporte/"+this.anio+"/"+this.catalogo+"/"+n.id+"/"+r]);else if(this.green.medidorViaje(a))this.router.navigate(["/registro/viaje/"+this.anio+"/"+this.catalogo+"/"+n.id+"/"+r]);else if(this.green.medidorGas(a))this.router.navigate(["/registro/gases/"+this.anio+"/"+this.catalogo+"/"+n.id+"/"+r]);else if(this.green.medidorPapel(a))this.router.navigate(["/registro/papel/"+this.anio+"/"+this.catalogo+"/"+n.id+"/"+r]);else if(this.green.medidorResiduos(a))this.router.navigate(["/registro/residuos/"+this.anio+"/"+this.catalogo+"/"+n.id+"/"+r]);else if(this.green.medidorGasNatural(a)){this.tipoMedidor=6;var c={anio:this.anio,catalogo:this.catalogo,idUnidad:r,mes:n.id,nombre:this.nombreMes,org:this.green.orgSelected};this.green.bloquear(),this.reg.contadoresCombustible(c).subscribe((function(t){o.datos=t,o.green.desbloquear(),o.modalReference=o.modalService.open(i,{windowClass:"dark-modal",size:"lg"})}))}else this.green.medidorComuting(a)&&(this.tipoMedidor=8,c={anio:this.anio,idCatalogo:this.catalogo,idOrganizacion:this.green.orgSelected},this.green.bloquear(),this.reg.contadoresCommuting(c).subscribe((function(t){o.datos=t,o.green.desbloquear(),o.modalReference=o.modalService.open(i,{windowClass:"dark-modal",size:"lg"})})));this.green.desbloquear()}},t.prototype.recargar=function(t){0===this.reg.mes?this.matriz[this.reg.mes][this.reg.unidad].valor=t.valor.toFixed(2):this.matriz[this.reg.mes-1][this.reg.unidad].valor=t.valor.toFixed(2),1===this.catalogo?(this.matriz[this.reg.mes-1][2].valor=t.demanda.toFixed(2),this.matriz[this.reg.mes-1][233].valor=t.costo.toFixed(2)):29===this.catalogo?(this.matriz[this.reg.mes-1][261].valor=t.costo.toFixed(2),this.matriz[this.reg.mes-1][94].valor=(t.valor*(t.dqo/1e6)*.001*1e6).toFixed(2)):30===this.catalogo?(this.matriz[this.reg.mes-1][262].valor=t.costo.toFixed(2),this.matriz[this.reg.mes-1][98].valor=(t.valor*(t.dqo/1e6)*.001*1e6).toFixed(2)):31===this.catalogo?this.matriz[this.reg.mes-1][102].valor=(t.valor*(t.dqo/1e6)*.001*1e6).toFixed(2):32===this.catalogo?this.matriz[this.reg.mes-1][106].valor=(t.valor*(t.dqo/1e6)*.001*1e6).toFixed(2):67===this.catalogo?this.matriz[this.reg.mes-1][315].valor=t.costo.toFixed(2):147===this.catalogo?this.matriz[this.reg.mes-1][527].valor=(t.valor*(t.dqo/1e6)*.001*1e6).toFixed(2):2===this.catalogo?(this.matriz[this.reg.mes-1][10].valor=t.kilometros.toFixed(2),this.matriz[this.reg.mes-1][234].valor=t.costo.toFixed(2)):3===this.catalogo?(this.matriz[this.reg.mes-1][14].valor=t.kilometros.toFixed(2),this.matriz[this.reg.mes-1][235].valor=t.costo.toFixed(2)):48===this.catalogo?this.matriz[this.reg.mes-1][280].valor=t.costo.toFixed(2):5===this.catalogo&&(this.matriz[this.reg.mes-1][237].valor=t.costo.toFixed(2));try{this.modalReference.close(),this.guardar()}catch(e){}},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(r.a),o.Qb(c.d),o.Qb(a.a),o.Qb(r.e),o.Qb(a.c),o.Qb(s.e))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-matriz"]],decls:12,vars:4,consts:[[1,"container"],[1,"card"],[1,"card-title"],["class","row",4,"ngIf"],[1,"card",2,"height","0px"],[1,"card-body"],["content",""],[1,"row"],["class","col-12","style","margin-bottom: 10px",4,"ngIf"],[1,"col-12"],[1,"table","table-bordered","table-matriz"],[1,"th-mes"],["class","th-mes",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"col-12",2,"margin-bottom","10px"],[1,"btn","btn-sm","trasparent",3,"click"],[4,"ngIf"],[3,"title"],[1,"mes-container"],[3,"routerLink"],[1,"icon","icon-docs"],[1,"input-matriz"],["matInput","","numberFloat","",3,"disabled","ngModel","click","ngModelChange"],[1,"modal-header"],["class","modal-title text-white",4,"ngIf"],["class","btn trasparent float-right","style","display: none",4,"ngIf"],[1,"col","text-right"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-title","text-white"],[1,"btn","trasparent","float-right",2,"display","none"],[1,"fa","fa-file-excel-o"],[3,"datos","recargar"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"h6"),o.Pc(4),o.Vb(),o.Wb(5,"h6"),o.Pc(6),o.Vb(),o.Vb(),o.Nc(7,w,14,3,"div",3),o.Vb(),o.Vb(),o.Wb(8,"div",4),o.Wb(9,"div",5),o.Nc(10,j,17,12,"ng-template",null,6,o.Oc),o.Vb(),o.Vb()),2&t&&(o.Cb(4),o.Rc("Organizaci\xf3n : ",e.tittle,""),o.Cb(2),o.Sc("Matriz [",e.nombreFuente,"] ",e.anio,""),o.Cb(1),o.sc("ngIf",e.matriz))},directives:[n.m,n.l,a.d,b.c,l.b,d,u.d,u.o,u.r,f,C],pipes:[c.c],styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,300,700\'");.preloader[_ngcontent-%COMP%]{width:100%;height:100%;top:0;position:fixed;z-index:99999;background:#fff}.preloader[_ngcontent-%COMP%]   .cssload-speeding-wheel[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 3.5px);left:calc(50% - 3.5px)}.table-matriz[_ngcontent-%COMP%]{width:auto;overflow:visible;padding:10px}.table-matriz[_ngcontent-%COMP%]   .th-mes[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#168039;color:#a0e8a4;font-size:.7em;font-weight:400;white-space:nowrap;padding-top:10px;height:20px;width:80px;overflow:hidden;text-align:center}.table-matriz[_ngcontent-%COMP%]   .mes-container[_ngcontent-%COMP%]{width:50px;vertical-align:middle;cursor:pointer}.table-matriz[_ngcontent-%COMP%]   .mes-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer}.table-matriz[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.7em;padding:0}.table-matriz[_ngcontent-%COMP%]   .input-matriz[_ngcontent-%COMP%]{width:100px;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}']}),t}(),T=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["app-titulo-fuente"]],inputs:{data:"data"},decls:6,vars:5,consts:[[3,"className"],[1,"g-tittle-yelow"],[1,"nombre-fuente"]],template:function(t,e){1&t&&(o.Rb(0,"i",0),o.Rb(1,"i"),o.Wb(2,"span",1),o.Pc(3,"Fuente- "),o.Vb(),o.Wb(4,"span",2),o.Pc(5),o.Vb()),2&t&&(o.sc("className",e.data.open?"fa fa-chevron-down":"fa fa-chevron-right"),o.Cb(1),o.Fb("icon-fuente icon-fuente-",e.data.id,""),o.Cb(4),o.Rc("",e.data.nombre," "))},encapsulation:2}),t}(),A=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.cerrar=function(t){t.open=!t.open},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["app-titulo-catalogo"]],inputs:{data:"data"},decls:4,vars:2,consts:[[3,"className","click"],[1,"g-tittle-yelow"]],template:function(t,e){1&t&&(o.Wb(0,"i",0),o.ic("click",(function(){return e.cerrar(e.data)})),o.Vb(),o.Wb(1,"span",1),o.Pc(2," Cat\xe1logo- "),o.Vb(),o.Pc(3)),2&t&&(o.sc("className",e.data.open?"fa fa-chevron-right":"fa fa-chevron-down"),o.Cb(3),o.Rc(" ",e.data.nombre," "))},encapsulation:2}),t}(),X=function(t,e){return["/registro/matriz",t,e,0]},E=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["app-titulo-anio"]],inputs:{data:"data"},decls:5,vars:5,consts:[[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"g-tittle-yelow"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Rb(1,"i",1),o.Wb(2,"span",2),o.Pc(3,"A\xf1o : "),o.Vb(),o.Pc(4),o.Vb()),2&t&&(o.sc("routerLink",o.xc(2,X,e.data.id,e.data.idCatalogo)),o.Cb(4),o.Rc(" ",e.data.nombre," "))},directives:[a.d],encapsulation:2}),t}(),K=function(){function t(t){this._el=t}return t.prototype.onInputChange=function(t){var e=this._el.nativeElement.value;this._el.nativeElement.value=e.replace(/[^0-9]*/g,""),e!==this._el.nativeElement.value&&t.stopPropagation()},t.\u0275fac=function(e){return new(e||t)(o.Qb(o.l))},t.\u0275dir=o.Lb({type:t,selectors:[["input","numbersOnly",""]],hostBindings:function(t,e){1&t&&o.ic("input",(function(t){return e.onInputChange(t)}))}}),t}();function G(t,e){if(1&t&&(o.Wb(0,"li",14),o.Wb(1,"a"),o.Rb(2,"app-titulo-anio",13),o.Vb(),o.Vb()),2&t){var i=e.$implicit,a=o.mc().$implicit;o.sc("hidden",a.open),o.Cb(2),o.sc("data",i)}}function B(t,e){if(1&t){var i=o.Xb();o.Wb(0,"li"),o.Wb(1,"a",12),o.ic("click",(function(){o.Dc(i);var t=e.$implicit,a=o.mc(3),n=o.Bc(10);return a.open(n,t.nombre,t.id)})),o.Rb(2,"app-titulo-catalogo",13),o.Vb(),o.Wb(3,"ul",15),o.Nc(4,G,3,2,"li",16),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.sc("data",a),o.Cb(2),o.sc("ngForOf",a.data)}}function J(t,e){if(1&t){var i=o.Xb();o.Wb(0,"li"),o.Wb(1,"a",12),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc(2).cerrar(t)})),o.Rb(2,"app-titulo-fuente",13),o.Vb(),o.Wb(3,"ul",14),o.Nc(4,B,5,2,"li",4),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.sc("data",a),o.Cb(1),o.sc("hidden",!a.open),o.Cb(1),o.sc("ngForOf",a.data)}}function Y(t,e){if(1&t&&(o.Wb(0,"li"),o.Wb(1,"a"),o.Rb(2,"span",9),o.Wb(3,"span",10),o.Pc(4," Organizaci\xf3n - "),o.Vb(),o.Pc(5),o.Vb(),o.Wb(6,"ul",11),o.Nc(7,J,5,3,"li",4),o.Vb(),o.Vb()),2&t){var i=e.$implicit;o.Cb(5),o.Rc(" ",i.nombre,""),o.Cb(2),o.sc("ngForOf",i.data)}}function H(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",17),o.Wb(1,"h4",18),o.Pc(2),o.Vb(),o.Wb(3,"button",19),o.ic("click",(function(){return(0,e.dismiss)("Close")})),o.Wb(4,"span",20),o.Pc(5,"\xd7"),o.Vb(),o.Vb(),o.Vb(),o.Wb(6,"div",21),o.Wb(7,"div",1),o.Wb(8,"div",22),o.Wb(9,"mat-form-field",23),o.Wb(10,"input",24),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().anio=t})),o.nc(11,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(12,"div",25),o.Wb(13,"button",26),o.ic("click",(function(){return o.Dc(i),o.mc().nuevoAnio()})),o.Pc(14," Nuevo "),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.Qc(a.tittle),o.Cb(8),o.tc("placeholder",o.oc(11,3,"anio")),o.sc("ngModel",a.anio)}}var Z=function(){function t(t,e,i,a,n){var r=this;this.reg=t,this.modalService=e,this.router=i,this.translate=a,this.green=n,this.modal=null,this.translate.setDefaultLang(this.green.getlang),this.subscription=this.green.onGetData.subscribe((function(t){Number(r.idOrg)!==Number(t)&&r.loadData()}))}return t.prototype.ngOnInit=function(){this.loadData()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.loadData=function(){var t=this;this.green.bloquear(),this.reg.getArbol().subscribe((function(e){try{t.data=e.data,t.cerrar(t.data[0].data[0]),t.idOrg=Number(t.data[0].id),t.idOrg!==t.green.orgSelected&&t.green.ajustarOrg(t.idOrg),t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.prototype.open=function(t,e,i){this.tittle=e,this.catalogo=i,this.modal=this.modalService.open(t,{windowClass:"dark-modal"})},t.prototype.nuevoAnio=function(){this.anio>2e3&&this.anio<=this.green.getDate.getFullYear()?this.router.navigate(0===this.catalogo?["registro/cargaviajes",this.anio]:["registro/matriz",this.anio,this.catalogo,1]):this.green.error("A\xf1o incorrecto");try{this.modal.close()}catch(t){}},t.prototype.cerrar=function(t){try{this.data[0].data.forEach((function(e){t.id!==e.id&&(e.open=!1)}))}catch(e){}t.open=!t.open},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(s.e),o.Qb(a.c),o.Qb(c.d),o.Qb(r.e))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-arbol-registro"]],decls:11,vars:1,consts:[[1,"container"],[1,"row"],[1,"sidebar-nav"],[1,"arbol-fuentes"],[4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card"],[1,"card-body"],["content",""],[1,"fa","fa-chevron-right"],[1,"g-tittle-yelow"],[1,"sub-item"],[3,"click"],[3,"data"],[3,"hidden"],[1,"tittle-anio"],[3,"hidden",4,"ngFor","ngForOf"],[1,"modal-header"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-8"],[1,"full-width"],["matInput","","type","text","numbersOnly","",3,"ngModel","placeholder","ngModelChange"],[1,"col-4",2,"margin-top","12px"],[1,"btn","btn-sm","btn-success",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"nav",2),o.Wb(3,"ul",3),o.Nc(4,Y,8,2,"li",4),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(5,"div",1),o.Wb(6,"div",5),o.Wb(7,"div",6),o.Wb(8,"div",7),o.Nc(9,H,15,5,"ng-template",null,8,o.Oc),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(4),o.sc("ngForOf",e.data))},directives:[n.l,T,A,E,b.c,l.b,K,u.d,u.o,u.r],pipes:[c.c],styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,300,700\'");.preloader[_ngcontent-%COMP%]{width:100%;height:100%;top:0;position:fixed;z-index:99999;background:#fff}.preloader[_ngcontent-%COMP%]   .cssload-speeding-wheel[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 3.5px);left:calc(50% - 3.5px)}.arbol-fuentes[_ngcontent-%COMP%]   .nombre-fuente[_ngcontent-%COMP%]{font-size:.9em;margin-left:2.8em}.arbol-fuentes[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:10px}.arbol-fuentes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 20px 8px 15px!important;cursor:pointer}.arbol-fuentes[_ngcontent-%COMP%]   .icon-fuente[_ngcontent-%COMP%]{margin-left:4px!important;margin-top:-2px!important;position:absolute;margin:auto}.arbol-fuentes[_ngcontent-%COMP%]   .tittle-anio[_ngcontent-%COMP%]{padding-left:30px!important}.arbol-fuentes[_ngcontent-%COMP%]   .sub-item[_ngcontent-%COMP%]{padding-left:1em!important}']}),t}(),tt=i("AytR"),et=i("jhN1"),it=i("vV3i"),at=function(){function t(t){this.green=t,this.marcar=new o.o,this.config={clickable:!0,maxFiles:1,timeout:5e3,autoReset:5e3,errorReset:5e3,cancelReset:5e3}}return t.prototype.ngOnInit=function(){this.type="directive",this.config.url=tt.a.siteUrl+"uploar_verificable.php?id="+this.id},t.prototype.toggleAutoReset=function(){this.config.autoReset=this.config.autoReset?null:5e3,this.config.errorReset=this.config.errorReset?null:5e3,this.config.cancelReset=this.config.cancelReset?null:5e3,this.type="directive",this.config.url=tt.a.siteUrl+"uploar_verificable.php?id="+this.id},t.prototype.resetDropzoneUploads=function(){this.type="directive",this.config.url=tt.a.siteUrl+"uploar_verificable.php?id="+this.id;try{this.componentRef.directiveRef.reset()}catch(t){}},t.prototype.onUploadInit=function(t){this.resetDropzoneUploads()},t.prototype.onUploadError=function(t){this.green.error(this.green.msgError),location.reload(),this.resetDropzoneUploads()},t.prototype.onUploadSuccess=function(t){this.marcar.emit(this.id),this.green.desbloquear(),this.green.succes("Documento adjuntado"),this.resetDropzoneUploads(),location.reload()},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.e))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-ver-upload"]],viewQuery:function(t,e){var i;1&t&&o.Xc(it.b,!0),2&t&&o.Ac(i=o.jc())&&(e.componentRef=i.first)},inputs:{id:"id"},outputs:{marcar:"marcar"},decls:4,vars:1,consts:[[1,"dropzone","dropzone-container",3,"dropzone","init","error","success"],[1,"dz-message"],[1,"btn","btn-sm","trasparent"],[1,"fa","fa-upload",2,"margin-top","9px"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.ic("init",(function(t){return e.onUploadInit(t)}))("error",(function(t){return e.onUploadError(t)}))("success",(function(t){return e.onUploadSuccess(t)})),o.Wb(1,"div",1),o.Wb(2,"button",2),o.Rb(3,"i",3),o.Vb(),o.Vb(),o.Vb()),2&t&&o.sc("dropzone",e.config)},directives:[it.c],encapsulation:2}),t}(),nt=i("IkSl");function rt(t,e){1&t&&(o.Wb(0,"th"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Qc(o.oc(2,1,"medidor")))}function ot(t,e){1&t&&(o.Wb(0,"th"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Rc(" ",o.oc(2,1,"moneda_local")," "))}function ct(t,e){if(1&t&&(o.Wb(0,"td",20),o.Pc(1),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.Rc(" ",i.contador," ")}}function st(t,e){if(1&t&&(o.Wb(0,"li"),o.Pc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Rc(" ",i.valor," ")}}function bt(t,e){if(1&t&&(o.Wb(0,"ul"),o.Nc(1,st,2,1,"li",16),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.sc("ngForOf",i.referencia)}}function lt(t,e){if(1&t&&(o.Wb(0,"span"),o.Pc(1),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.Qc(i.referencia)}}function dt(t,e){if(1&t&&(o.Wb(0,"li"),o.Pc(1),o.nc(2,"number"),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Rc(" ",o.pc(2,1,i.valor,"0.1-2")," ")}}function ut(t,e){if(1&t&&(o.Wb(0,"ul"),o.Nc(1,dt,3,4,"li",16),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.sc("ngForOf",i.costo)}}function gt(t,e){if(1&t&&(o.Wb(0,"span"),o.Pc(1),o.nc(2,"number"),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.Qc(o.pc(2,1,i.costo,"0.1-2"))}}function ht(t,e){if(1&t&&(o.Wb(0,"td",20),o.Pc(1),o.nc(2,"number"),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.Rc(" ",o.pc(2,1,i.consumon,"0.1-2")," ")}}function pt(t,e){1&t&&o.Rb(0,"i",29)}function ft(t,e){1&t&&o.Rb(0,"i",30)}function mt(t,e){1&t&&o.Rb(0,"i",31)}function vt(t,e){1&t&&o.Rb(0,"i",32)}function Vt(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",33),o.ic("delete",(function(t){return o.Dc(i),o.mc(2).eliminar(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(1),o.sc("texto",a.textoDelete)}}function Wt(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Nc(1,ct,2,1,"td",19),o.Wb(2,"td",20),o.Pc(3),o.Vb(),o.Wb(4,"td",20),o.Nc(5,bt,2,1,"ul",15),o.Nc(6,lt,2,1,"span",15),o.Vb(),o.Wb(7,"td",20),o.Nc(8,ut,2,1,"ul",15),o.Nc(9,gt,3,4,"span",15),o.Vb(),o.Nc(10,ht,3,4,"td",19),o.Wb(11,"td",21),o.Wb(12,"button",22),o.ic("click",(function(){o.Dc(i);var t=e.$implicit,a=o.mc(),n=o.Bc(51);return a.open(n,t)})),o.Nc(13,pt,1,0,"i",23),o.Nc(14,ft,1,0,"i",24),o.Vb(),o.Vb(),o.Wb(15,"td",21),o.Wb(16,"button",22),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().verificarFactura(t)})),o.Nc(17,mt,1,0,"i",25),o.Nc(18,vt,1,0,"i",26),o.Vb(),o.Vb(),o.Wb(19,"td",21),o.Wb(20,"app-ver-upload",27),o.ic("marcar",(function(t){return o.Dc(i),o.mc().marcar(t)})),o.Vb(),o.Vb(),o.Wb(21,"td",21),o.Wb(22,"button",22),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().borrar(t)})),o.Rb(23,"i",28),o.Vb(),o.Nc(24,Vt,2,1,"div",15),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit,n=o.mc();o.Cb(1),o.sc("ngIf",n.medidor),o.Cb(2),o.Qc(a.valor),o.Cb(2),o.sc("ngIf",n.esResiduos(n.idCatalogo)),o.Cb(1),o.sc("ngIf",!n.esResiduos(n.idCatalogo)),o.Cb(2),o.sc("ngIf",n.esResiduos(n.idCatalogo)),o.Cb(1),o.sc("ngIf",!n.esResiduos(n.idCatalogo)),o.Cb(1),o.sc("ngIf",n.tieneCosto(n.idCatalogo)),o.Cb(3),o.sc("ngIf",1==a.imagen),o.Cb(1),o.sc("ngIf",0==a.imagen),o.Cb(3),o.sc("ngIf",1==a.verificar),o.Cb(1),o.sc("ngIf",0==a.verificar),o.Cb(2),o.sc("id",a.idVerificable),o.Cb(4),o.sc("ngIf",a.ocultar)}}function Ct(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",40),o.Wb(1,"pdf-viewer",41),o.ic("after-load-complete",(function(t){return o.Dc(i),o.mc(2).callBackFn(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(1),o.sc("src",a.src)("render-text",!0)}}function Mt(t,e){if(1&t&&(o.Wb(0,"div",40),o.Rb(1,"img",42),o.Vb()),2&t){var i=o.mc(2);o.Cb(1),o.sc("src",i.imgsrc,o.Gc)}}function Pt(t,e){if(1&t&&(o.Wb(0,"div",34),o.Wb(1,"h4",35),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"button",36),o.ic("click",(function(){return(0,e.dismiss)("Cross click")})),o.Wb(5,"span",37),o.Pc(6,"\xd7"),o.Vb(),o.Vb(),o.Vb(),o.Wb(7,"div",38),o.Wb(8,"div",3),o.Nc(9,Ct,2,2,"div",39),o.Nc(10,Mt,2,1,"div",39),o.Vb(),o.Vb()),2&t){var i=o.mc();o.Cb(2),o.Rc(" ",o.oc(3,3,"verificable")," "),o.Cb(7),o.sc("ngIf",!i.tipoimg),o.Cb(1),o.sc("ngIf",i.tipoimg)}}var xt=function(t,e){return["/registro/matriz",t,e,0]},yt=function(){function t(t,e,i,a,n,r,o){this.reg=t,this.route=e,this.green=i,this.sanitizer=a,this.modalService=n,this.excelService=r,this.translate=o,this.residuos=[11,33,34,68],this.costo=[11,33,34,68],this.temp=[],this.medidor=!1,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.exportAsXLSX=function(){this.excelService.exportAsExcelFile(this.exp,"doc")},t.prototype.ngOnInit=function(){this.idCatalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.idOrg=this.green.orgSelected,this.mes=Number(this.route.snapshot.paramMap.get("mes")),this.nombre_mes=this.green.getMeses(this.mes),this.load(),this.medidor=this.green.medidorElect(this.idCatalogo)},t.prototype.esResiduos=function(t){return-1!==this.residuos.indexOf(t)},t.prototype.tieneCosto=function(t){return-1===this.costo.indexOf(t)},t.prototype.load=function(){var t=this,e={anio:this.anio,idCatalogo:this.idCatalogo,idOrg:this.idOrg,mes:this.mes,nombre_mes:this.nombre_mes,paginado:1};this.green.bloquear(),this.reg.getVerificable(e).subscribe((function(e){try{t.exp=e.data.exp,t.unidadMedida=e.data.unidad_medida,t.rows=new Array,t.rows=e.data.referencias,t.temp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var a=Array(t),n=0;for(e=0;e<i;e++)for(var r=arguments[e],o=0,c=r.length;o<c;o++,n++)a[n]=r[o];return a}(t.rows),t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.prototype.updateFilter=function(t){var e=t.target.value.toLowerCase(),i=this.temp.filter((function(t){return-1!==t.valor.toLowerCase().indexOf(e)||!e}));this.rows=i},t.prototype.borrar=function(t){this.textoDelete="Desea eliminar el verificable: "+t.contador,this.itemSelect=t,t.ocultar=!t.ocultar},t.prototype.eliminar=function(t){var e=this;t?(this.green.bloquear(),this.reg.eliminarReferencia({id:this.itemSelect.idVerificable}).subscribe((function(t){try{e.load(),e.green.desbloquear()}catch(i){e.green.desbloquear()}}))):this.itemSelect.ocultar=!1},t.prototype.verificarFactura=function(t){var e=this;this.green.bloquear(),this.reg.verificarFactura({estado:1===t.verificar?0:1,id:t.idVerificable}).subscribe((function(i){try{t.verificar=1===t.verificar?0:1,e.green.succes(e.green.msgExito),e.green.desbloquear()}catch(a){e.green.desbloquear()}}))},t.prototype.marcar=function(t){var e=this;this.green.bloquear(),this.reg.marcarImagen({id:t}).subscribe((function(i){try{e.rows.forEach((function(e){e.idVerificable===Number(t)&&(e.imagen=1)})),e.green.desbloquear()}catch(a){e.green.desbloquear()}}))},t.prototype.callBackFn=function(t){},t.prototype.open=function(t,e){var i=this;this.tipoimg=!1,this.green.bloquear(),this.reg.urlVerificable({id:e.idVerificable}).subscribe((function(e){try{if("pdf"===e.data.tipo)i.tipoimg=!1,i.src=tt.a.siteUrl+"/"+e.data.url,i.modalService.open(t,{windowClass:"dark-modal",size:"lg"});else if("xlsx"===e.data.tipo){var a=tt.a.siteUrl+"/"+e.data.url;window.open(a,"_blank")}else"jpg"===e.data.tipo?(i.imgsrc=i.sanitizer.bypassSecurityTrustResourceUrl(a=""+tt.a.siteUrl+e.data.url),i.tipoimg=!0,i.modalService.open(t,{windowClass:"dark-modal",size:"lg"})):i.green.error("No tiene verificable asociado.");i.green.desbloquear()}catch(n){i.green.desbloquear()}}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(a.a),o.Qb(r.e),o.Qb(et.b),o.Qb(s.e),o.Qb(r.d),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-verificable"]],decls:52,vars:33,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-2"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"col-4"],["type","text","placeholder","# Documento",1,"form-control","form-control-sm",2,"padding","8px",3,"keyup"],[1,"btn","btn-sm","trasparent","float-right",3,"title","click"],[1,"fa","fa-download"],[1,"float-right"],[1,"row","g-grid",2,"margin-top","15px"],[1,"col-10",2,"margin-bottom","50px"],[1,"table","table-bordered"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-md-6",2,"height","0px"],["content",""],["style","vertical-align: middle",4,"ngIf"],[2,"vertical-align","middle"],[2,"text-align","center","vertical-align","middle"],[1,"btn","bg-transparent",3,"click"],["class","icon icon-doc text-success",4,"ngIf"],["class","icon icon-doc",4,"ngIf"],["class","fa fa-check text-success",4,"ngIf"],["class","fa fa-minus-circle",4,"ngIf"],[3,"id","marcar"],[1,"fa","fa-trash"],[1,"icon","icon-doc","text-success"],[1,"icon","icon-doc"],[1,"fa","fa-check","text-success"],[1,"fa","fa-minus-circle"],[3,"texto","delete"],[1,"modal-header"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","col-12",4,"ngIf"],[1,"col-12"],[2,"display","block",3,"src","render-text","after-load-complete"],["width","100%","height","100%",3,"src"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Wb(4,"div",4),o.Wb(5,"button",5),o.Rb(6,"i",6),o.Pc(7),o.nc(8,"translate"),o.Vb(),o.Vb(),o.Wb(9,"div",7),o.Wb(10,"input",8),o.ic("keyup",(function(t){return e.updateFilter(t)})),o.Vb(),o.Vb(),o.Wb(11,"div",4),o.Wb(12,"button",9),o.ic("click",(function(){return e.exportAsXLSX()})),o.nc(13,"translate"),o.Rb(14,"i",10),o.Vb(),o.Vb(),o.Wb(15,"div",4),o.Wb(16,"div",11),o.Pc(17),o.Vb(),o.Vb(),o.Vb(),o.Wb(18,"div",12),o.Wb(19,"div",13),o.Wb(20,"table",14),o.Wb(21,"thead"),o.Wb(22,"tr"),o.Nc(23,rt,3,3,"th",15),o.Wb(24,"th"),o.Pc(25),o.nc(26,"translate"),o.Vb(),o.Wb(27,"th"),o.Pc(28),o.nc(29,"translate"),o.Vb(),o.Wb(30,"th"),o.Pc(31),o.Vb(),o.Nc(32,ot,3,3,"th",15),o.Wb(33,"th"),o.Pc(34),o.nc(35,"translate"),o.Vb(),o.Wb(36,"th"),o.Pc(37),o.nc(38,"translate"),o.Vb(),o.Wb(39,"th"),o.Pc(40),o.nc(41,"translate"),o.Vb(),o.Wb(42,"th"),o.Pc(43),o.nc(44,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(45,"tbody"),o.Nc(46,Wt,25,13,"tr",16),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(47,"div",17),o.Wb(48,"div",1),o.Wb(49,"div",2),o.Nc(50,Pt,11,5,"ng-template",null,18,o.Oc),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(5),o.sc("routerLink",o.xc(30,xt,e.anio,e.idCatalogo)),o.Cb(2),o.Rc(" ",o.oc(8,14,"atras")," "),o.Cb(5),o.tc("title",o.oc(13,16,"exportar")),o.Cb(5),o.Qc(e.nombre_mes),o.Cb(6),o.sc("ngIf",e.medidor),o.Cb(2),o.Qc(o.oc(26,18,"no_documento")),o.Cb(3),o.Qc(o.oc(29,20,"referencia")),o.Cb(3),o.Qc(e.unidadMedida),o.Cb(1),o.sc("ngIf",e.tieneCosto(e.idCatalogo)),o.Cb(2),o.Qc(o.oc(35,22,"ver")),o.Cb(3),o.Qc(o.oc(38,24,"verificar")),o.Cb(3),o.Qc(o.oc(41,26,"adjuntar")),o.Cb(3),o.Qc(o.oc(44,28,"eliminar")),o.Cb(3),o.sc("ngForOf",e.rows))},directives:[a.e,a.d,n.m,n.l,at,g,nt.a],pipes:[c.c,n.e],encapsulation:2}),t}();function Ot(t,e){if(1&t&&(o.Wb(0,"h6"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t){var i=o.mc(2);o.Cb(1),o.Sc("",o.oc(2,2,"organizacion")," : ",i.nombre,"")}}function kt(t,e){if(1&t&&(o.Wb(0,"h6"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t){var i=o.mc(2);o.Cb(1),o.Sc("",o.oc(2,2,"comunidad")," : ",i.nombre,"")}}function Nt(t,e){if(1&t&&(o.Wb(0,"th",9),o.Wb(1,"div",13),o.Pc(2),o.Vb(),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.sc("title",i.nombre),o.Cb(1),o.Rc(" ",i.nombre.substr(0,10)," ")}}var wt=function(t,e,i,a){return["/registro/ver-verificable",t,e,i,a]};function Rt(t,e){if(1&t&&(o.Wb(0,"button",19),o.Rb(1,"i",20),o.Pc(2),o.Vb()),2&t){var i=o.mc(2).$implicit,a=o.mc().$implicit,n=o.mc(2);o.sc("ngbTooltip",i.valor)("routerLink",o.zc(3,wt,n.idCatalogo,n.anio,a.id,n.idOrg)),o.Cb(2),o.Rc(" ",i.valor.substr(0,4)," ")}}function Dt(t,e){if(1&t&&(o.Wb(0,"button",21),o.Rb(1,"i",20),o.Pc(2),o.Vb()),2&t){var i=o.mc(2).$implicit;o.sc("ngbTooltip",i.valor),o.Cb(2),o.Rc(" ",i.valor.substr(0,4)," ")}}function Qt(t,e){if(1&t&&(o.Wb(0,"div",13),o.Nc(1,Rt,3,8,"button",17),o.Nc(2,Dt,3,2,"button",18),o.Vb()),2&t){var i=o.mc().$implicit,a=o.mc(3);o.sc("title",i.valor),o.Cb(1),o.sc("ngIf",a.idOrg>0),o.Cb(1),o.sc("ngIf",0==a.idOrg)}}function It(t,e){if(1&t&&(o.Wb(0,"mat-label",13),o.Pc(1),o.Vb()),2&t){var i=o.mc().$implicit;o.sc("title",i.valor),o.Cb(1),o.Rc(" ",i.valor," ")}}function Ft(t,e){if(1&t&&(o.Wb(0,"td",15),o.Nc(1,Qt,3,3,"div",16),o.Nc(2,It,2,2,"mat-label",16),o.Vb()),2&t){var i=e.index;o.Cb(1),o.sc("ngIf",0==i),o.Cb(1),o.sc("ngIf",0!=i)}}function _t(t,e){if(1&t&&(o.Wb(0,"tr"),o.Nc(1,Ft,3,2,"td",14),o.Vb()),2&t){var i=e.$implicit,a=o.mc(2);o.Cb(1),o.sc("ngForOf",a.matriz[i.id])}}function zt(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",2),o.Wb(1,"div",3),o.Wb(2,"button",4),o.ic("click",(function(){return o.Dc(i),o.mc().exportAsXLSX()})),o.nc(3,"translate"),o.Rb(4,"i",5),o.Pc(5),o.nc(6,"translate"),o.Vb(),o.Nc(7,Ot,3,4,"h6",6),o.Nc(8,kt,3,4,"h6",6),o.Wb(9,"h6"),o.Pc(10),o.nc(11,"translate"),o.Vb(),o.Vb(),o.Wb(12,"div",7),o.Wb(13,"table",8),o.Wb(14,"thead"),o.Wb(15,"tr"),o.Wb(16,"th",9),o.Pc(17),o.nc(18,"translate"),o.Vb(),o.Nc(19,Nt,3,2,"th",10),o.Wb(20,"th",9),o.Pc(21,"tCO2e"),o.Vb(),o.Vb(),o.Vb(),o.Wb(22,"tbody"),o.Nc(23,_t,2,1,"tr",11),o.Vb(),o.Vb(),o.Vb(),o.Wb(24,"div",12),o.Wb(25,"div",3),o.Wb(26,"h5"),o.Pc(27),o.nc(28,"translate"),o.nc(29,"number"),o.Vb(),o.Wb(30,"h5"),o.Pc(31),o.nc(32,"translate"),o.nc(33,"number"),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.tc("title",o.oc(3,14,"exportar")),o.Cb(3),o.Rc(" ",o.oc(6,16,"exportar")," "),o.Cb(2),o.sc("ngIf",a.idOrg>0),o.Cb(1),o.sc("ngIf",0==a.idOrg),o.Cb(2),o.Tc("",o.oc(11,18,"matriz")," [",a.nombreFuente,"] ",a.anio,""),o.Cb(7),o.Qc(o.oc(18,20,"mes")),o.Cb(2),o.sc("ngForOf",a.unidades),o.Cb(4),o.sc("ngForOf",a.meses),o.Cb(4),o.Sc("",o.oc(28,22,"total"),": ",o.pc(29,24,a.totalCO2,"0.1-2"),""),o.Cb(4),o.Sc("",o.oc(32,27,"promedio"),": ",o.pc(33,29,a.promedio,"0.1-2"),"")}}var qt=function(){function t(t,e,i,a,n){this.reg=t,this.route=e,this.excelService=i,this.green=a,this.translate=n,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.idCatalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.idOrg=this.green.orgSelected,this.load()},t.prototype.exportAsXLSX=function(){this.excelService.exportAsExcelFile(this.exp,"doc")},t.prototype.load=function(){var t=this;this.green.bloquear(),this.reg.getAlcance({anio:this.anio,anio_fiscal:null,cambio:0,idCatalogoFuente:this.idCatalogo,idioma:this.green.getIdioma,idOrganizacion:this.idOrg}).subscribe((function(e){try{t.exp=e.data.exp,t.nombre=e.data.entidad,t.nombreFuente=e.data.nombre_fuente,t.meses=e.data.meses,t.matriz=e.data.matriz,t.unidades=e.data.unidades,t.totalCO2=e.data.total,t.promedio=t.totalCO2/t.meses.length,t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(a.a),o.Qb(r.d),o.Qb(r.e),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-cdatos"]],decls:2,vars:1,consts:[[1,"container"],["class","card",4,"ngIf"],[1,"card"],[1,"card-title"],[1,"btn","btn-sm","trasparent","float-right",3,"title","click"],[1,"fa","fa-file-excel-o"],[4,"ngIf"],[1,"row"],[1,"table","table-bordered","table-matriz"],[1,"th-mes"],["class","th-mes",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col-12",2,"float","right"],[3,"title"],["style","vertical-align: middle;",4,"ngFor","ngForOf"],[2,"vertical-align","middle"],[3,"title",4,"ngIf"],["placement","top","class","btn btn-sm transparent",3,"ngbTooltip","routerLink",4,"ngIf"],["class","btn btn-sm transparent","placement","top",3,"ngbTooltip",4,"ngIf"],["placement","top",1,"btn","btn-sm","transparent",3,"ngbTooltip","routerLink"],[1,"icon","icon-docs"],["placement","top",1,"btn","btn-sm","transparent",3,"ngbTooltip"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Nc(1,zt,34,32,"div",1),o.Vb()),2&t&&(o.Cb(1),o.sc("ngIf",e.matriz))},directives:[n.m,n.l,s.n,a.d,b.f],pipes:[c.c,n.e],styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,300,700\'");.preloader[_ngcontent-%COMP%]{width:100%;height:100%;top:0;position:fixed;z-index:99999;background:#fff}.preloader[_ngcontent-%COMP%]   .cssload-speeding-wheel[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 3.5px);left:calc(50% - 3.5px)}.table-matriz[_ngcontent-%COMP%]{width:auto;overflow:visible;padding:10px}.table-matriz[_ngcontent-%COMP%]   .th-mes[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#168039;color:#a0e8a4;font-size:.7em;font-weight:400;white-space:nowrap;padding-top:10px;height:20px;width:55px;overflow:hidden;text-align:center;cursor:pointer}.table-matriz[_ngcontent-%COMP%]   .mes-container[_ngcontent-%COMP%]{width:50px;cursor:pointer}.table-matriz[_ngcontent-%COMP%]   .mes-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer}.table-matriz[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.7em;padding:.7em}.table-matriz[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{white-space:nowrap}.table-matriz[_ngcontent-%COMP%]   .input-matriz[_ngcontent-%COMP%]{width:70px;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;text-align:center}']}),t}(),St=function(t,e){return["/registro/vercdatos",t,e]},Lt=function(){function t(t,e){this.translate=t,this.green=e,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(o.Qb(c.d),o.Qb(r.e))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-anio"]],inputs:{data:"data"},decls:6,vars:8,consts:[[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"g-tittle-yelow"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Rb(1,"i",1),o.Wb(2,"span",2),o.Pc(3),o.nc(4,"translate"),o.Vb(),o.Pc(5),o.Vb()),2&t&&(o.sc("routerLink",o.xc(5,St,e.data.id,e.data.idCatalogo)),o.Cb(3),o.Rc("",o.oc(4,3,"anio")," : "),o.Cb(2),o.Rc(" ",e.data.nombre," "))},directives:[a.d],pipes:[c.c],encapsulation:2}),t}(),$t=function(){return["/registro/exportar"]};function jt(t,e){1&t&&(o.Wb(0,"div",6),o.Wb(1,"button",7),o.nc(2,"translate"),o.Rb(3,"i",8),o.Pc(4),o.nc(5,"translate"),o.Vb(),o.Vb()),2&t&&(o.Cb(1),o.tc("title",o.oc(2,3,"exportar")),o.sc("routerLink",o.vc(7,$t)),o.Cb(3),o.Rc(" ",o.oc(5,5,"exportar")," "))}function Ut(t,e){1&t&&(o.Wb(0,"span",12),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Rc(" ",o.oc(2,1,"organizacion")," - "))}function Tt(t,e){1&t&&(o.Wb(0,"span",12),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Rc(" ",o.oc(2,1,"comunidad")," - "))}function At(t,e){if(1&t&&(o.Wb(0,"li",15),o.Wb(1,"a"),o.Rb(2,"app-anio",14),o.Vb(),o.Vb()),2&t){var i=e.$implicit,a=o.mc().$implicit;o.sc("hidden",a.open),o.Cb(2),o.sc("data",i)}}function Xt(t,e){if(1&t&&(o.Wb(0,"li"),o.Wb(1,"a"),o.Rb(2,"app-titulo-catalogo",14),o.Vb(),o.Wb(3,"ul",16),o.Nc(4,At,3,2,"li",17),o.Vb(),o.Vb()),2&t){var i=e.$implicit;o.Cb(2),o.sc("data",i),o.Cb(2),o.sc("ngForOf",i.data)}}function Et(t,e){if(1&t){var i=o.Xb();o.Wb(0,"li"),o.Wb(1,"a",13),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc(2).cerrar(t)})),o.Rb(2,"app-titulo-fuente",14),o.Vb(),o.Wb(3,"ul",15),o.Nc(4,Xt,5,2,"li",5),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.sc("data",a),o.Cb(1),o.sc("hidden",!a.open),o.Cb(1),o.sc("ngForOf",a.data)}}function Kt(t,e){if(1&t&&(o.Wb(0,"li"),o.Wb(1,"a"),o.Rb(2,"span",9),o.Nc(3,Ut,3,3,"span",10),o.Nc(4,Tt,3,3,"span",10),o.Pc(5),o.Vb(),o.Wb(6,"ul",11),o.Nc(7,Et,5,3,"li",5),o.Vb(),o.Vb()),2&t){var i=e.$implicit;o.Cb(3),o.sc("ngIf",i.org),o.Cb(1),o.sc("ngIf",i.com),o.Cb(1),o.Rc(" ",i.nombre,""),o.Cb(2),o.sc("ngForOf",i.data)}}var Gt=function(){function t(t,e,i){var a=this;this.reg=t,this.green=e,this.translate=i,this.translate.setDefaultLang(this.green.getlang),this.subscription=this.green.onGetData.subscribe((function(t){a.loadData()}))}return t.prototype.ngOnInit=function(){this.esMaestro=this.green.usuarioMaestro,this.loadData()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.loadData=function(){var t=this;this.green.bloquear(),this.reg.getArbolCDatos().subscribe((function(e){try{t.data=e.data,t.cerrar(t.data[0].data[0]),t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.prototype.cerrar=function(t){try{this.data[0].data.forEach((function(t){t.open=!1}))}catch(e){}t.open=!t.open},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(r.e),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-arbol-cdatos"]],decls:6,vars:2,consts:[[1,"container"],[1,"row"],["class","col-12",4,"ngIf"],[1,"sidebar-nav"],[1,"arbol-fuentes"],[4,"ngFor","ngForOf"],[1,"col-12"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent","float-right",3,"title","routerLink"],[1,"fa","fa-file-excel-o"],[1,"fa","fa-chevron-right"],["class","g-tittle-yelow",4,"ngIf"],[1,"sub-item"],[1,"g-tittle-yelow"],[3,"click"],[3,"data"],[3,"hidden"],[1,"tittle-anio"],[3,"hidden",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Nc(2,jt,6,8,"div",2),o.Wb(3,"nav",3),o.Wb(4,"ul",4),o.Nc(5,Kt,8,4,"li",5),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(2),o.sc("ngIf",e.esMaestro),o.Cb(3),o.sc("ngForOf",e.data))},directives:[n.m,n.l,a.e,a.d,T,A,Lt],pipes:[c.c],encapsulation:2}),t}(),Bt=i("EUZL");function Jt(t,e){if(1&t&&(o.Wb(0,"option",19),o.Pc(1),o.Vb()),2&t){var i=e.$implicit,a=o.mc().index,n=o.mc(3);o.sc("selected",i.id==n.cabezera[a])("value",i.id),o.Cb(1),o.Rc(" ",i.valor," ")}}function Yt(t,e){if(1&t){var i=o.Xb();o.Wb(0,"th"),o.Wb(1,"select",16),o.ic("ngModelChange",(function(t){o.Dc(i);var a=e.index;return o.mc(3).cabezera[a]=t})),o.Wb(2,"option",17),o.Pc(3),o.nc(4,"translate"),o.Vb(),o.Nc(5,Jt,2,3,"option",18),o.Vb(),o.Vb()}if(2&t){var a=e.index,n=o.mc(3);o.Cb(1),o.sc("ngModel",n.cabezera[a]),o.Cb(2),o.Qc(o.oc(4,3,"seleccione")),o.Cb(2),o.sc("ngForOf",n.opciones)}}function Ht(t,e){if(1&t&&(o.Wb(0,"th"),o.Pc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Rc(" ",i," ")}}function Zt(t,e){if(1&t&&(o.Wb(0,"td"),o.Wb(1,"div"),o.Pc(2),o.Vb(),o.Vb()),2&t){var i=e.$implicit;o.Cb(2),o.Qc(i)}}function te(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Wb(2,"i",20),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc(3).deleteRow(t)})),o.Vb(),o.Vb(),o.Nc(3,Zt,3,1,"td",15),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(3),o.sc("ngForOf",a)}}function ee(t,e){if(1&t&&(o.Wb(0,"table",14),o.Wb(1,"thead"),o.Wb(2,"tr"),o.Rb(3,"th"),o.Nc(4,Yt,6,5,"th",15),o.Vb(),o.Wb(5,"tr"),o.Rb(6,"th"),o.Nc(7,Ht,2,1,"th",15),o.Vb(),o.Vb(),o.Wb(8,"tbody"),o.Nc(9,te,4,1,"tr",15),o.Vb(),o.Vb()),2&t){var i=o.mc(2);o.Cb(4),o.sc("ngForOf",i.header),o.Cb(3),o.sc("ngForOf",i.header),o.Cb(2),o.sc("ngForOf",i.data)}}function ie(t,e){if(1&t&&(o.Wb(0,"div",12),o.Nc(1,ee,10,3,"table",13),o.Vb()),2&t){var i=o.mc();o.Cb(1),o.sc("ngIf",i.header)}}function ae(t,e){if(1&t&&(o.Wb(0,"li",25),o.Pc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Rc(" ",i.mensaje," ")}}function ne(t,e){if(1&t&&(o.Wb(0,"div",21),o.Wb(1,"h4",22),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"ul",23),o.Nc(5,ae,2,1,"li",24),o.Vb(),o.Vb()),2&t){var i=o.mc();o.Cb(2),o.Rc(" ",o.oc(3,2,"documento_errores")," "),o.Cb(3),o.sc("ngForOf",i.errorLista)}}var re=function(){function t(t,e,i){this.green=t,this.reg=e,this.translate=i,this.precargado=new o.o,this.wopts={bookType:"xlsx",type:"array"},this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){this.data=null,this.fileName="Seleccione el archivo",this.errorCarga=!1,this.cabezera=[1,2,3,4,5,6,7],this.errorLista=[],this.clase=["",String("BUSINESS").toUpperCase(),String("Business/Primera").toUpperCase(),String("EJECUTIVA/PRIMERA").toUpperCase(),String("EJECUTIVA/TURISTA").toUpperCase(),String("Ejecutiva").toUpperCase(),String("Ejecutivo").toUpperCase(),String("Economica").toUpperCase(),String("Econ\xf3mica").toUpperCase(),String("Econ\xf3mico").toUpperCase(),String("Economico").toUpperCase(),String("TURISTA").toUpperCase(),String("DESCONOCIDA").toUpperCase()],this.modificarOpciones(this.unidadMedida)},t.prototype.deleteRow=function(t){this.data.splice(this.data.indexOf(t),1)},t.prototype.modificarOpciones=function(t){this.opciones=[{valor:"N\xfamero de fila",id:1},{valor:"Nombre",id:2},{valor:"Ruta",id:3},{valor:0===t?"Kil\xf3metros":"Millas",id:4},{valor:"Clase",id:5},{valor:"Fecha Salida",id:6},{valor:"Fecha Regreso",id:7}]},t.prototype.pad=function(t){return t<10?"0"+t:t},t.prototype.onFileChange=function(t){var e=this;null!==this.data&&this.cancelar(),this.green.bloquear(),this.errorCarga=!1;var i=t.target;if(1!==i.files.length)throw new Error("Cannot use multiple files");var a=new FileReader;a.onload=function(t){var i=Bt.read(t.target.result,{type:"binary"});e.data=Bt.utils.sheet_to_json(i.Sheets[i.SheetNames[0]],{header:1}),e.header=e.data[0];var a=0,n=0;e.header.forEach((function(t,e){-1===String(t).indexOf("salida")&&-1===String(t).indexOf("Salida")||(a=e),-1===String(t).indexOf("regreso")&&-1===String(t).indexOf("Regreso")||(n=e)})),0!==a&&0!==n&&e.data.forEach((function(t){if(Number(t[0])>0){var i=Math.floor(t[a]-25569),r=new Date(86400*i*1e3);t[a]=e.pad(r.getDate())+"/"+e.pad(r.getMonth()+1)+"/"+r.getFullYear();var o=Math.floor(t[n]-25569),c=new Date(86400*o*1e3);t[n]=e.pad(c.getDate())+"/"+e.pad(c.getMonth()+1)+"/"+c.getFullYear()}})),isNaN(Number(e.header[0]))&&e.data.splice(0,1)},this.green.desbloquear(),a.readAsBinaryString(i.files[0])},t.prototype.cancelar=function(){this.data=null,this.header=null,this.docu=null,this.fileName=null},t.prototype.validarCabecera=function(){var t=[];return this.cabezera.forEach((function(e){t.push(Number(e))})),this.cabezera=t,t.filter((function(t,e,i){return i.indexOf(t)===e})).length===t.length&&(this.cabezera=t,!0)},t.prototype.validar=function(){var t=this;try{var e=this.cabezera.indexOf(6),i=this.cabezera.indexOf(7),a=this.cabezera.indexOf(1),n=this.cabezera.indexOf(4),r=this.cabezera.indexOf(3),o=this.cabezera.indexOf(5),c=this.cabezera.indexOf(2),s=!0;return this.errorLista=[],this.green.bloquear(),this.data.forEach((function(b){b.length>0&&((isNaN(Number(b[a]))||void 0===Number(b[a]))&&(t.errorLista.push({mensaje:"El n\xfamero de fila "+b[a]+" est\xe1 incorrecto"}),s=!1),null==b[c]&&(t.errorLista.push({mensaje:"El nombre de fila "+b[a]+" est\xe1 incorrecto"}),s=!1),null==b[r]&&(t.errorLista.push({mensaje:"La ruta en la fila "+b[a]+" est\xe1 incorrecto"}),s=!1),t.validarFecha(b[e])||(t.errorLista.push({mensaje:"La fecha de salida del la fila "+b[a]+" est\xe1 incorrecto o es solo lectura"}),s=!1),t.validarFecha(b[i])||(t.errorLista.push({mensaje:"La fecha de regreso del la fila "+b[a]+" est\xe1 incorrecto o es solo lectura"}),s=!1),(isNaN(Number(b[n]))||void 0===Number(b[n]))&&(t.errorLista.push({mensaje:"La distancia en la fila "+b[a]+" est\xe1 incorrecta o es solo lectura"}),s=!1),null!=b[o]&&-1===t.clase.indexOf(b[o].toUpperCase(),1)&&(t.errorLista.push({mensaje:"La clase en la fila "+b[a]+" est\xe1 incorrecta"}),s=!1))})),this.green.desbloquear(),s}catch(b){}},t.prototype.validarFecha=function(t){try{var e=t.substr(0,2),i=t.substr(3,2),a=t.substr(6,4);if(!isNaN(new Date(a+"-"+i+"-"+e).getFullYear()))return!0}catch(n){return!1}return!1},t.prototype.guardar=function(){var t=this;if(void 0!==this.data&&null!=this.data)if(this.validarCabecera())if(this.validar()){var e={cabezera:this.cabezera,meses:this.meses,matriz:this.data,tipo:this.unidadMedida,anio:this.anio};this.green.bloquear(),this.reg.cargaViajes(e).subscribe((function(e){t.precargado.emit(!0),t.green.desbloquear()}))}else this.errorCarga=!0;else this.green.error("Cevezera incorrecta")},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.e),o.Qb(r.h),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-carga-temporal"]],inputs:{anio:"anio",meses:"meses",unidadMedida:"unidadMedida"},outputs:{precargado:"precargado"},decls:20,vars:12,consts:[[1,"card"],[1,"card-body"],[1,"row",2,"margin-top","20px"],[1,"col-4"],["id","file","type","file","multiple","false",1,"inputfile",3,"ngModel","ngModelChange","change"],["for","file"],[1,"fa","fa-upload"],[1,"col-2"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"row",2,"margin-top","1em"],["class","col-12 g-grid",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","g-grid"],["class","table",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[1,"form-group","form-group-sm",3,"ngModel","ngModelChange"],["selected",""],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],[1,"fa","fa-trash",3,"click"],[1,"col-12"],[1,"modal-title"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Wb(4,"input",4),o.ic("ngModelChange",(function(t){return e.docu=t}))("change",(function(t){return e.onFileChange(t)})),o.Vb(),o.Wb(5,"label",5),o.Rb(6,"i",6),o.Pc(7),o.nc(8,"translate"),o.Vb(),o.Vb(),o.Wb(9,"div",7),o.Wb(10,"button",8),o.ic("click",(function(){return e.guardar()})),o.Pc(11),o.nc(12,"translate"),o.Vb(),o.Vb(),o.Wb(13,"div",7),o.Wb(14,"button",8),o.ic("click",(function(){return e.cancelar()})),o.Pc(15),o.nc(16,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(17,"div",9),o.Nc(18,ie,2,1,"div",10),o.Nc(19,ne,6,4,"div",11),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(4),o.sc("ngModel",e.docu),o.Cb(3),o.Rc(" ",o.oc(8,6,"subir_archivo"),""),o.Cb(4),o.Rc(" ",o.oc(12,8,"guardar")," "),o.Cb(4),o.Rc(" ",o.oc(16,10,"cancelar")," "),o.Cb(3),o.sc("ngIf",!e.errorCarga),o.Cb(1),o.sc("ngIf",e.errorCarga))},directives:[u.d,u.o,u.r,n.m,n.l,u.x,u.s,u.z],pipes:[c.c],styles:[".inputfile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}"]}),t}(),oe=function(){function t(){this.delete=new o.o}return t.prototype.ngOnInit=function(){},t.prototype.borrarTodo=function(t){this.delete.emit(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["app-delete-buttom"]],inputs:{texto:"texto"},outputs:{delete:"delete"},decls:10,vars:1,consts:[[1,"cuerpo-borrar"],[1,"card"],[1,"car-body"],[1,"col-12","texto"],[1,"col-12","botones"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Pc(4),o.Vb(),o.Wb(5,"div",4),o.Wb(6,"button",5),o.ic("click",(function(){return e.borrarTodo(!0)})),o.Pc(7,"Si"),o.Vb(),o.Wb(8,"button",6),o.ic("click",(function(){return e.borrarTodo(!1)})),o.Pc(9,"No"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(4),o.Rc(" ",e.texto," "))},styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,300,700\'");.preloader[_ngcontent-%COMP%]{width:100%;height:100%;top:0;position:fixed;z-index:99999;background:#fff}.preloader[_ngcontent-%COMP%]   .cssload-speeding-wheel[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 3.5px);left:calc(50% - 3.5px)}.cuerpo-borrar[_ngcontent-%COMP%]{width:270px;height:90px;text-align:center;position:absolute;z-index:6666;margin-top:-10px;border-radius:5px}.cuerpo-borrar[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;color:#67757c}.cuerpo-borrar[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{margin-top:10px}.cuerpo-borrar[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{min-width:60px;margin-left:10px;margin-right:10px;padding-left:10px;padding-right:10px}']}),t}();function ce(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete-buttom",7),o.ic("delete",(function(t){return o.Dc(i),o.mc().deleteAllDuplicado(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(1),o.sc("texto",a.textoDelete)}}function se(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete-buttom",7),o.ic("delete",(function(t){return o.Dc(i),o.mc().deleteAllPrecargado(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(1),o.sc("texto",a.textoDelete)}}function be(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete-buttom",7),o.ic("delete",(function(t){return o.Dc(i),o.mc().deleteAllAnio(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(1),o.sc("texto",a.textoDelete)}}function le(t,e){if(1&t){var i=o.Xb();o.Wb(0,"button",20),o.ic("click",(function(){o.Dc(i);var t=o.mc().$implicit;return o.mc(2).eliminarItem(t)})),o.Rb(1,"i",21),o.nc(2,"translate"),o.Vb()}2&t&&(o.Cb(1),o.tc("title",o.oc(2,1,"datos_duplicados")))}var de=function(t,e){return{"fa-check":t,"fa-times amarillo":e}};function ue(t,e){if(1&t){var i=o.Xb();o.Wb(0,"button",22),o.ic("click",(function(){o.Dc(i);var t=o.mc().$implicit;return o.mc(2).correccion(t,!0)})),o.Rb(1,"i",23),o.Vb()}if(2&t){var a=o.mc().$implicit;o.Cb(1),o.sc("ngClass",o.xc(1,de,0==a.editado,1==a.editado))}}function ge(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",24),o.nc(1,"translate"),o.Wb(2,"input",25),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().$implicit.nombre=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc().$implicit;o.tc("title",o.oc(1,2,"datos_duplicados")),o.Cb(2),o.sc("ngModel",a.nombre)}}function he(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"input",26),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().$implicit.nombre=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc().$implicit;o.Cb(1),o.sc("ngModel",a.nombre)}}function pe(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",24),o.nc(1,"translate"),o.Wb(2,"input",25),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().$implicit.ruta=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc().$implicit;o.tc("title",o.oc(1,2,"registro_en_sistema")),o.Cb(2),o.sc("ngModel",a.ruta)}}function fe(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"input",18),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().$implicit.ruta=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc().$implicit;o.Cb(1),o.sc("ngModel",a.ruta)}}function me(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Nc(2,le,3,3,"button",14),o.Nc(3,ue,2,4,"button",15),o.Wb(4,"button",16),o.Wb(5,"span"),o.Pc(6),o.Vb(),o.Vb(),o.Vb(),o.Wb(7,"td"),o.Nc(8,ge,3,4,"div",17),o.Nc(9,he,2,1,"div",5),o.Vb(),o.Wb(10,"td"),o.Nc(11,pe,3,4,"div",17),o.Nc(12,fe,2,1,"div",5),o.Vb(),o.Wb(13,"td"),o.Wb(14,"div"),o.Wb(15,"input",18),o.ic("ngModelChange",(function(t){return o.Dc(i),e.$implicit.kilometros=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(16,"td"),o.Wb(17,"div"),o.Wb(18,"input",18),o.ic("ngModelChange",(function(t){return o.Dc(i),e.$implicit.clase=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(19,"td"),o.Wb(20,"div"),o.Wb(21,"input",18),o.ic("ngModelChange",(function(t){return o.Dc(i),e.$implicit.fechai=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(22,"td"),o.Wb(23,"div"),o.Wb(24,"input",18),o.ic("ngModelChange",(function(t){return o.Dc(i),e.$implicit.fechafin=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(25,"td"),o.Wb(26,"div"),o.Wb(27,"input",19),o.ic("ngModelChange",(function(t){return o.Dc(i),e.$implicit.dias=t})),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.sc("ngIf",1==a.duplicados||1==a.alarma||1==a.existe),o.Cb(1),o.sc("ngIf",1==a.duplicados||1==a.alarma||1==a.existe),o.Cb(1),o.sc("hidden",1==a.duplicados||1===a.alarma||1===a.existe),o.Cb(2),o.Qc(a.numero_fila),o.Cb(2),o.sc("ngIf",1==a.duplicados),o.Cb(1),o.sc("ngIf",1!=a.duplicados),o.Cb(2),o.sc("ngIf",1==a.existe),o.Cb(1),o.sc("ngIf",1!=a.existe),o.Cb(3),o.sc("ngModel",a.kilometros),o.Cb(3),o.sc("ngModel",a.clase),o.Cb(3),o.sc("ngModel",a.fechai),o.Cb(3),o.sc("ngModel",a.fechafin),o.Cb(3),o.sc("ngModel",a.dias)}}function ve(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",2),o.Wb(1,"div",8),o.Wb(2,"table",9),o.Wb(3,"thead"),o.Wb(4,"th",10),o.Pc(5),o.nc(6,"translate"),o.Vb(),o.Wb(7,"th",10),o.Pc(8),o.nc(9,"translate"),o.Vb(),o.Wb(10,"th",10),o.Pc(11),o.nc(12,"translate"),o.Vb(),o.Wb(13,"th",10),o.Pc(14),o.nc(15,"translate"),o.Vb(),o.Wb(16,"th",10),o.Pc(17),o.nc(18,"translate"),o.Vb(),o.Wb(19,"th",10),o.Pc(20),o.nc(21,"translate"),o.Vb(),o.Wb(22,"th",10),o.Pc(23),o.nc(24,"translate"),o.Vb(),o.Wb(25,"th",10),o.Pc(26),o.nc(27,"translate"),o.Vb(),o.Vb(),o.Wb(28,"tbody"),o.Nc(29,me,28,13,"tr",11),o.Vb(),o.Vb(),o.Vb(),o.Wb(30,"div",12),o.Wb(31,"button",13),o.ic("click",(function(){return o.Dc(i),o.mc().guardar()})),o.Pc(32),o.nc(33,"translate"),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(5),o.Rc(" ",o.oc(6,10,"eliminar")," "),o.Cb(3),o.Rc(" ",o.oc(9,12,"nombre")," "),o.Cb(3),o.Rc(" ",o.oc(12,14,"ruta")," "),o.Cb(3),o.Rc(" ",o.oc(15,16,"kilometros")," "),o.Cb(3),o.Rc(" ",o.oc(18,18,"clase")," "),o.Cb(3),o.Rc(" ",o.oc(21,20,"fecha_salida")," "),o.Cb(3),o.Rc(" ",o.oc(24,22,"fecha_regreso")," "),o.Cb(3),o.Rc(" ",o.oc(27,24,"dias")," "),o.Cb(3),o.sc("ngForOf",a.precarga),o.Cb(3),o.Rc(" ",o.oc(33,26,"guardar")," ")}}var Ve=function(){function t(t,e,i,a){this.green=t,this.reg=e,this.router=i,this.translate=a,this.precargado=new o.o,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){this.precarga=null,this.ocultarBorraranio=!1,this.ocultarPrecargado=!1,this.ocultarDuplicados=!1,this.cargarTemp()},t.prototype.cargarTemp=function(){var t=this;this.green.bloquear(),this.reg.listaTemp().subscribe((function(e){try{t.precarga=e.data,t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.prototype.elimiminarDuplicados=function(){this.textoDelete="Desea eliminar todos los registros duplicados",this.ocultarDuplicados=!0,this.ocultarBorraranio=!1,this.ocultarPrecargado=!1},t.prototype.elimiminarPrecargado=function(){this.textoDelete="Desea eliminar todos los registros pre-cargados",this.ocultarDuplicados=!1,this.ocultarBorraranio=!1,this.ocultarPrecargado=!0},t.prototype.eliminarAnio=function(){this.textoDelete="Desea eliminar los registros del a\xf1o",this.ocultarDuplicados=!1,this.ocultarBorraranio=!0,this.ocultarPrecargado=!1},t.prototype.deleteAllDuplicado=function(t){var e=this;if(t){this.ocultarDuplicados=!1;var i={idOrganizacion:this.green.orgSelected,anio:this.anio,temp:!0};this.green.bloquear(),this.reg.eliminarVuelosDuplicados(i).subscribe((function(t){try{e.green.succes(t.mensaje),e.precarga=t.data,0===e.precarga.length&&e.precargado.emit(!1),e.green.desbloquear()}catch(i){e.green.desbloquear()}}))}else this.ocultarDuplicados=!1},t.prototype.deleteAllPrecargado=function(t){var e=this;if(t){this.ocultarPrecargado=!1;var i={anio:this.anio,idOrg:this.green.orgSelected};this.green.bloquear(),this.reg.eliminarvuelosPrecargados(i).subscribe((function(t){try{e.green.succes(t.mensaje),e.precargado.emit(!1),e.green.desbloquear()}catch(i){e.green.desbloquear()}}))}else this.ocultarPrecargado=!1},t.prototype.deleteAllAnio=function(t){var e=this;if(t){this.ocultarBorraranio=!1;var i={idOrganizacion:this.green.orgSelected,anio:this.anio,temp:!1};this.green.bloquear(),this.reg.eliminarvuelosPrecargados(i).subscribe((function(t){try{e.green.succes(t.mensaje),e.green.desbloquear(),e.precargado.emit(!1)}catch(i){e.green.desbloquear()}}))}else this.ocultarBorraranio=!1},t.prototype.validar=function(){var t=this,e=0;if(this.precarga.forEach((function(i){if(0===i.editado){if(1===i.existe)return t.green.error("El viaje en la fila "+i.numero_fila+" ya se encuentra en el sistema"),!1;if(0!==i.duplicados)return t.green.error("El viaje en la fila "+i.numero_fila+" ya se encuentra esta duplicado"),!1;if(0!==i.alarma)return t.green.error("El viaje en la fila "+i.numero_fila+" ya se encuentra en el sistema"),!1}e++})),e===this.precarga.length)return!0},t.prototype.guardar=function(){var t=this;this.validar()&&(this.green.bloquear(),this.reg.postViajes(this.precarga).subscribe((function(e){try{t.green.succes(e.mensaje),t.deleteAllPrecargado(!0),t.router.navigate(["registro/arbol"])}catch(i){t.green.desbloquear()}})))},t.prototype.correccion=function(t,e){var i=this;e&&(t.editado=0===t.editado?1:0),this.green.bloquear(),this.reg.updateItemTemp(t).subscribe((function(t){i.green.desbloquear()}))},t.prototype.eliminarItem=function(t){var e=this;this.green.bloquear(),this.reg.eliminarItemPrecarga({id:t.idtemp}).subscribe((function(i){e.green.desbloquear(),1===i.data&&(e.precarga.splice(e.precarga.indexOf(t),1),0===e.precarga.length&&e.precargado.emit(!1))}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.e),o.Qb(r.h),o.Qb(a.c),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-datos-precargados"]],inputs:{anio:"anio"},outputs:{precargado:"precargado"},decls:19,vars:13,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col-4"],[1,"btn","btn-sm","btn-danger",3,"click"],[4,"ngIf"],["class","row",4,"ngIf"],[3,"texto","delete"],[1,"col-12","g-grid"],[1,"table","table-bordered","table-matriz",2,"width","100%"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"col-12"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],["class","btn btn-xs trasparent","style","margin-bottom: 0px!important;",3,"click",4,"ngIf"],["class","btn btn-xs btn-trans","style","margin-bottom: 0px!important;",3,"click",4,"ngIf"],[1,"btn","btn-xs","btn-trans",3,"hidden"],[3,"title",4,"ngIf"],[1,"input-matriz",3,"ngModel","ngModelChange"],["readonly","",1,"input-matriz",3,"ngModel","ngModelChange"],[1,"btn","btn-xs","trasparent",2,"margin-bottom","0px!important",3,"click"],[1,"fa","fa-trash",3,"title"],[1,"btn","btn-xs","btn-trans",2,"margin-bottom","0px!important",3,"click"],[1,"fa",3,"ngClass"],[3,"title"],[1,"input-matriz",2,"color","red",3,"ngModel","ngModelChange"],[1,"input-matriz","danger-color",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Wb(4,"button",4),o.ic("click",(function(){return e.elimiminarDuplicados()})),o.Pc(5),o.nc(6,"translate"),o.Vb(),o.Nc(7,ce,2,1,"div",5),o.Vb(),o.Wb(8,"div",3),o.Wb(9,"button",4),o.ic("click",(function(){return e.elimiminarPrecargado()})),o.Pc(10),o.nc(11,"translate"),o.Vb(),o.Nc(12,se,2,1,"div",5),o.Vb(),o.Wb(13,"div",3),o.Wb(14,"button",4),o.ic("click",(function(){return e.eliminarAnio()})),o.Pc(15),o.nc(16,"translate"),o.Vb(),o.Nc(17,be,2,1,"div",5),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Nc(18,ve,34,28,"div",6)),2&t&&(o.Cb(5),o.Rc(" ",o.oc(6,7,"eliminar_registros_duplicados")," "),o.Cb(2),o.sc("ngIf",e.ocultarDuplicados),o.Cb(3),o.Rc(" ",o.oc(11,9,"eliminar_registros_precargados")," "),o.Cb(2),o.sc("ngIf",e.ocultarPrecargado),o.Cb(3),o.Rc(" ",o.oc(16,11,"borrar_anio")," "),o.Cb(2),o.sc("ngIf",e.ocultarBorraranio),o.Cb(1),o.sc("ngIf",e.precarga))},directives:[n.m,oe,n.l,u.d,u.o,u.r,n.k],pipes:[c.c],styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,300,700\'");.preloader[_ngcontent-%COMP%]{width:100%;height:100%;top:0;position:fixed;z-index:99999;background:#fff}.preloader[_ngcontent-%COMP%]   .cssload-speeding-wheel[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 3.5px);left:calc(50% - 3.5px)}.table-matriz[_ngcontent-%COMP%]{width:auto;overflow:visible;padding:12px}.table-matriz[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.7em;padding:.7em}.table-matriz[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{white-space:nowrap}.table-matriz[_ngcontent-%COMP%]   .input-matriz[_ngcontent-%COMP%]{width:105px;height:22px;border:1px solid #168039;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;text-align:center}.cuerpo-borrar[_ngcontent-%COMP%]{margin-left:0!important}']}),t}(),We=function(t,e){return{"fa-check text-success":t,"fa-times":e}};function Ce(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td",17),o.Pc(2),o.Vb(),o.Wb(3,"td",18),o.Wb(4,"button",14),o.ic("click",(function(){o.Dc(i);var t=e.index;return o.mc(3).marcar(t)})),o.Rb(5,"i",19),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.Qc(a.mes),o.Cb(3),o.sc("ngClass",o.xc(2,We,a.select,!a.select))}}function Me(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",6),o.Rb(1,"div",7),o.Wb(2,"div",8),o.Wb(3,"label",9),o.Wb(4,"input",10),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc(2).unidadMedida=t})),o.Vb(),o.Pc(5),o.nc(6,"translate"),o.Vb(),o.Vb(),o.Wb(7,"div",8),o.Wb(8,"label",9),o.Wb(9,"input",10),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc(2).unidadMedida=t})),o.Vb(),o.Pc(10),o.nc(11,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(12,"div",11),o.Wb(13,"div",12),o.Wb(14,"table",13),o.Wb(15,"thead"),o.Wb(16,"tr"),o.Wb(17,"th"),o.Pc(18),o.nc(19,"translate"),o.Vb(),o.Wb(20,"th"),o.Wb(21,"button",14),o.ic("click",(function(){return o.Dc(i),o.mc(2).marcarTodo()})),o.Rb(22,"i",15),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(23,"tbody"),o.Nc(24,Ce,6,5,"tr",16),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(4),o.sc("value",0)("checked",0==a.unidadMedida)("ngModel",a.unidadMedida),o.Cb(1),o.Rc(" ",o.oc(6,10,"kilometros")," "),o.Cb(4),o.sc("value",1)("checked",1==a.unidadMedida)("ngModel",a.unidadMedida),o.Cb(1),o.Rc(" ",o.oc(11,12,"millas_nauticas")," "),o.Cb(8),o.Qc(o.oc(19,14,"mes")),o.Cb(6),o.sc("ngForOf",a.meses)}}function Pe(t,e){1&t&&(o.Wb(0,"ngb-tab",4),o.nc(1,"translate"),o.Nc(2,Me,25,16,"ng-template",5),o.Vb()),2&t&&o.tc("title",o.oc(1,1,"parametrizacion"))}function xe(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",21),o.Wb(1,"div",22),o.Wb(2,"app-carga-temporal",23),o.ic("precargado",(function(t){return o.Dc(i),o.mc(2).precargado(t)})),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(2),o.sc("anio",a.anio)("meses",a.meses)("unidadMedida",a.unidadMedida)}}function ye(t,e){if(1&t&&(o.Wb(0,"ngb-tab",20),o.nc(1,"translate"),o.Nc(2,xe,3,3,"ng-template",5),o.Vb()),2&t){var i=o.mc();o.tc("title",o.oc(1,2,"carga_de_datos")),o.sc("disabled",i.desactivar)}}function Oe(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",21),o.Wb(1,"div",22),o.Wb(2,"app-datos-precargados",24),o.ic("precargado",(function(t){return o.Dc(i),o.mc(2).precargado(t)})),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(2),o.sc("anio",a.anio)}}function ke(t,e){if(1&t&&(o.Wb(0,"ngb-tab",20),o.nc(1,"translate"),o.Nc(2,Oe,3,1,"ng-template",5),o.Vb()),2&t){var i=o.mc();o.tc("title",o.oc(1,2,"datos_precargados")),o.sc("disabled",i.desactivar)}}var Ne=function(){function t(t,e,i,a,n){this.green=t,this.admin=e,this.reg=i,this.translate=a,this.route=n,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){var t=this;this.precargados=!0,this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.green.bloquear(),this.admin.getOrganizacion(this.green.orgSelected).subscribe((function(e){try{t.nombre=e.data.nombre,t.green.desbloquear()}catch(i){t.green.desbloquear()}})),this.desactivar=!0,this.todos=!1,this.meses=[],this.unidadMedida=1,this.green.getAllMeses().forEach((function(e){t.meses.push({mes:e,select:!1})})),this.cargarTemp()},t.prototype.precargado=function(t){this.precargados=!t},t.prototype.marcarTodo=function(){var t=this;this.todos=!this.todos,this.desactivar=!this.todos,this.meses.forEach((function(e){e.select=t.todos}))},t.prototype.marcar=function(t){var e=this;this.desactivar=!0,this.meses[t].select=!this.meses[t].select,this.meses.forEach((function(t){t.select&&(e.desactivar=!1)}))},t.prototype.cargarTemp=function(){var t=this;this.reg.listaTemp().subscribe((function(e){try{e.data.length>0&&(t.precargados=!1)}catch(i){}}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.e),o.Qb(r.a),o.Qb(r.h),o.Qb(c.d),o.Qb(a.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-carga-generica"]],decls:10,vars:13,consts:[[1,"container"],[1,"modal-title"],[3,"title",4,"ngIf"],[3,"title","disabled",4,"ngIf"],[3,"title"],["ngbTabContent",""],[1,"row",2,"margin-top","10px"],[1,"col-1"],[1,"col-2"],[1,"form-check-label"],["type","radio","name","unidadMedida",1,"form-check-input",3,"value","checked","ngModel","ngModelChange"],[1,"row",2,"margin-top","15px"],[1,"col-5","g-grid"],[1,"table"],[1,"btn","btn-sm","trasparent",3,"click"],[1,"fa","fa-check"],[4,"ngFor","ngForOf"],[2,"width","90%"],[2,"width","10%"],[1,"fa",3,"ngClass"],[3,"title","disabled"],[1,"row"],[1,"col-12"],[3,"anio","meses","unidadMedida","precargado"],[3,"anio","precargado"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"h4",1),o.Pc(2),o.nc(3,"translate"),o.nc(4,"translate"),o.nc(5,"translate"),o.Vb(),o.Wb(6,"ngb-tabset"),o.Nc(7,Pe,3,3,"ngb-tab",2),o.Nc(8,ye,3,4,"ngb-tab",3),o.Nc(9,ke,3,4,"ngb-tab",3),o.Vb(),o.Vb()),2&t&&(o.Cb(2),o.Uc(" ",o.oc(3,7,"organizacion")," : ",e.nombre," ",o.oc(4,9,"anio"),": ",o.oc(5,11,"anio")," "),o.Cb(5),o.sc("ngIf",e.precargados),o.Cb(1),o.sc("ngIf",e.precargados),o.Cb(1),o.sc("ngIf",!e.precargados))},directives:[s.m,n.m,s.k,s.l,u.u,u.d,u.o,u.r,n.l,n.k,re,Ve],pipes:[c.c],encapsulation:2}),t}();function we(t,e){if(1&t&&(o.Wb(0,"option",11),o.Pc(1),o.Vb()),2&t){var i=e.$implicit,a=o.mc();o.sc("selected",i.anio==a.anioSelect)("value",i.anio),o.Cb(1),o.Qc(i.anio)}}var Re=function(){function t(t,e,i){var a=this;this.green=t,this.dash=e,this.reg=i,this.subscription=this.green.onGetData.subscribe((function(t){try{a.anioSelect=a.anios[0].anio}catch(e){}}))}return t.prototype.ngOnInit=function(){var t=this;this.anioSelect=0,this.dash.getAnios().subscribe((function(e){try{t.green.desbloquear(),t.anios=e.data,t.anioSelect=t.anios[0].anio}catch(i){}}))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.exportat=function(){var t=this;0===Number(this.anioSelect)&&this.green.error("Seleccione al menos 1 a\xf1o"),this.green.bloquear(),this.reg.exportConsolidado(this.anioSelect).subscribe((function(e){window.open(tt.a.siteUrl+"api/public/xls/"+e.data+".xls","_blank"),t.green.desbloquear()}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.e),o.Qb(r.c),o.Qb(r.h))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-exportar"]],decls:15,vars:5,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-4"],[1,"form-group"],["for","my-input"],[1,"custom-select",3,"ngModel","ngModelChange"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"btn","btn-sm","trasparent","float-right",2,"margin-top","10px",3,"title","click"],[1,"fa","fa-file-excel-o"],[3,"selected","value"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Wb(4,"div",4),o.Wb(5,"div",5),o.Wb(6,"label",6),o.Pc(7," Seleccione el a\xf1o "),o.Vb(),o.Wb(8,"select",7),o.ic("ngModelChange",(function(t){return e.anioSelect=t})),o.Nc(9,we,2,3,"option",8),o.Vb(),o.Vb(),o.Vb(),o.Wb(10,"div",4),o.Wb(11,"button",9),o.ic("click",(function(){return e.exportat()})),o.nc(12,"translate"),o.Rb(13,"i",10),o.Pc(14," Exportar Consolidado "),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(8),o.sc("ngModel",e.anioSelect),o.Cb(1),o.sc("ngForOf",e.anios),o.Cb(2),o.tc("title",o.oc(12,3,"exportar")))},directives:[u.x,u.o,u.r,n.l,u.s,u.z],pipes:[c.c],encapsulation:2}),t}();function De(t,e){1&t&&(o.Wb(0,"th"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Qc(o.oc(2,1,"medidor")))}function Qe(t,e){1&t&&(o.Wb(0,"th"),o.Pc(1,"Moneda local"),o.Vb())}function Ie(t,e){if(1&t&&(o.Wb(0,"td",18),o.Pc(1),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.Qc(i.contador)}}function Fe(t,e){if(1&t&&(o.Wb(0,"li"),o.Pc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Rc(" ",i.valor," ")}}function _e(t,e){if(1&t&&(o.Wb(0,"ul"),o.Nc(1,Fe,2,1,"li",14),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.sc("ngForOf",i.referencia)}}function ze(t,e){if(1&t&&(o.Wb(0,"span"),o.Pc(1),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.Qc(i.referencia)}}function qe(t,e){if(1&t&&(o.Wb(0,"li"),o.Pc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Rc(" ",i.valor," ")}}function Se(t,e){if(1&t&&(o.Wb(0,"ul"),o.Nc(1,qe,2,1,"li",14),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.sc("ngForOf",i.costo)}}function Le(t,e){if(1&t&&(o.Wb(0,"span"),o.Pc(1),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.Qc(i.costo)}}function $e(t,e){if(1&t&&(o.Wb(0,"td",18),o.Pc(1),o.Vb()),2&t){var i=o.mc().$implicit;o.Cb(1),o.Qc(i.consumon)}}function je(t,e){1&t&&o.Rb(0,"i",23)}function Ue(t,e){1&t&&o.Rb(0,"i",24)}function Te(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Nc(1,Ie,2,1,"td",17),o.Wb(2,"td",18),o.Pc(3),o.Vb(),o.Wb(4,"td",18),o.Nc(5,_e,2,1,"ul",13),o.Nc(6,ze,2,1,"span",13),o.Vb(),o.Wb(7,"td",18),o.Nc(8,Se,2,1,"ul",13),o.Nc(9,Le,2,1,"span",13),o.Vb(),o.Nc(10,$e,2,1,"td",17),o.Wb(11,"td",19),o.Wb(12,"button",20),o.ic("click",(function(){o.Dc(i);var t=e.$implicit,a=o.mc(),n=o.Bc(36);return a.open(n,t)})),o.Nc(13,je,1,0,"i",21),o.Nc(14,Ue,1,0,"i",22),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit,n=o.mc();o.Cb(1),o.sc("ngIf",n.medidor),o.Cb(2),o.Qc(a.valor),o.Cb(2),o.sc("ngIf",n.esResiduos(n.idCatalogo)),o.Cb(1),o.sc("ngIf",!n.esResiduos(n.idCatalogo)),o.Cb(2),o.sc("ngIf",n.esResiduos(n.idCatalogo)),o.Cb(1),o.sc("ngIf",!n.esResiduos(n.idCatalogo)),o.Cb(1),o.sc("ngIf",n.tieneCosto(n.idCatalogo)),o.Cb(3),o.sc("ngIf",1==a.imagen),o.Cb(1),o.sc("ngIf",0==a.imagen)}}function Ae(t,e){if(1&t&&(o.Wb(0,"div",31),o.Rb(1,"pdf-viewer",32),o.Vb()),2&t){var i=o.mc(2);o.Cb(1),o.sc("src",i.src)("render-text",!0)}}function Xe(t,e){if(1&t&&(o.Wb(0,"div",31),o.Rb(1,"img",33),o.Vb()),2&t){var i=o.mc(2);o.Cb(1),o.sc("src",i.imgsrc,o.Gc)}}function Ee(t,e){if(1&t&&(o.Wb(0,"div",25),o.Wb(1,"h4",26),o.Pc(2,"Verificable"),o.Vb(),o.Wb(3,"button",27),o.ic("click",(function(){return(0,e.dismiss)("Cross click")})),o.Wb(4,"span",28),o.Pc(5,"\xd7"),o.Vb(),o.Vb(),o.Vb(),o.Wb(6,"div",29),o.Wb(7,"div",3),o.Nc(8,Ae,2,2,"div",30),o.Nc(9,Xe,2,1,"div",30),o.Vb(),o.Vb()),2&t){var i=o.mc();o.Cb(8),o.sc("ngIf",!i.tipoimg),o.Cb(1),o.sc("ngIf",i.tipoimg)}}var Ke=function(t,e){return["/registro/vercdatos",t,e]},Ge=function(){function t(t,e,i,a,n){this.reg=t,this.route=e,this.green=i,this.sanitizer=a,this.modalService=n,this.residuos=[11,33,34,68],this.costo=[11,33,34,68],this.temp=[]}return t.prototype.ngOnInit=function(){this.medidor=!1,this.idCatalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.mes=Number(this.route.snapshot.paramMap.get("mes")),this.idOrg=Number(this.route.snapshot.paramMap.get("org")),this.nombre_mes=this.green.getMeses(this.mes),this.load()},t.prototype.updateFilter=function(t){var e=t.target.value.toLowerCase(),i=this.temp.filter((function(t){return-1!==t.valor.toLowerCase().indexOf(e)||!e}));this.rows=i},t.prototype.load=function(){var t=this,e={anio:this.anio,idCatalogo:this.idCatalogo,idOrg:this.idOrg,mes:this.mes,nombre_mes:this.nombre_mes,paginado:1};this.green.bloquear(),this.reg.getVerificable(e).subscribe((function(e){try{t.unidadMedida=e.data.unidad_medida,t.rows=new Array,t.rows=e.data.referencias,t.temp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var a=Array(t),n=0;for(e=0;e<i;e++)for(var r=arguments[e],o=0,c=r.length;o<c;o++,n++)a[n]=r[o];return a}(t.rows),t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.prototype.esResiduos=function(t){return-1!==this.residuos.indexOf(t)},t.prototype.tieneCosto=function(t){return-1===this.costo.indexOf(t)},t.prototype.open=function(t,e){var i=this;this.tipoimg=!1,this.green.bloquear(),this.reg.urlVerificable({id:e.idVerificable}).subscribe((function(e){try{if("pdf"===e.data.tipo)i.tipoimg=!1,i.src=tt.a.siteUrl+"/"+e.data.url,i.modalService.open(t,{windowClass:"dark-modal",size:"lg"});else if("xlsx"===e.data.tipo){var a=tt.a.siteUrl+"/"+e.data.url;window.open(a,"_blank")}else"jpg"===e.data.tipo?(i.imgsrc=i.sanitizer.bypassSecurityTrustResourceUrl(a=""+tt.a.siteUrl+e.data.url),i.tipoimg=!0,i.modalService.open(t,{windowClass:"dark-modal",size:"lg"})):i.green.error("No tiene verificable asociado.");i.green.desbloquear()}catch(n){i.green.desbloquear()}}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(a.a),o.Qb(r.e),o.Qb(et.b),o.Qb(s.e))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-cdatos-verificable"]],decls:37,vars:15,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-2"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"col-4"],["type","text","placeholder","# Factura",1,"form-control","form-control-sm",2,"padding","8px",3,"keyup"],[1,"float-right"],[1,"row","g-grid",2,"margin-top","15px"],[1,"col-10",2,"margin-bottom","50px"],[1,"table","table-bordered"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-md-6",2,"height","0px"],["content",""],["style","vertical-align: middle",4,"ngIf"],[2,"vertical-align","middle"],[2,"text-align","center","vertical-align","middle"],[1,"btn","bg-transparent",3,"click"],["class","icon icon-doc text-success",4,"ngIf"],["class","icon icon-doc",4,"ngIf"],[1,"icon","icon-doc","text-success"],[1,"icon","icon-doc"],[1,"modal-header"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","col-12",4,"ngIf"],[1,"col-12"],[2,"display","block",3,"src","render-text"],["width","100%","height","100%",3,"src"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Wb(4,"div",4),o.Wb(5,"button",5),o.Rb(6,"i",6),o.Pc(7),o.nc(8,"translate"),o.Vb(),o.Vb(),o.Wb(9,"div",7),o.Wb(10,"input",8),o.ic("keyup",(function(t){return e.updateFilter(t)})),o.Vb(),o.Vb(),o.Wb(11,"div",7),o.Wb(12,"div",9),o.Pc(13),o.Vb(),o.Vb(),o.Vb(),o.Wb(14,"div",10),o.Wb(15,"div",11),o.Wb(16,"table",12),o.Wb(17,"thead"),o.Wb(18,"tr"),o.Nc(19,De,3,3,"th",13),o.Wb(20,"th"),o.Pc(21,"Factura"),o.Vb(),o.Wb(22,"th"),o.Pc(23),o.nc(24,"translate"),o.Vb(),o.Wb(25,"th"),o.Pc(26),o.Vb(),o.Nc(27,Qe,2,0,"th",13),o.Wb(28,"th"),o.Pc(29,"Ver"),o.Vb(),o.Vb(),o.Vb(),o.Wb(30,"tbody"),o.Nc(31,Te,15,9,"tr",14),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(32,"div",15),o.Wb(33,"div",1),o.Wb(34,"div",2),o.Nc(35,Ee,10,2,"ng-template",null,16,o.Oc),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(5),o.sc("routerLink",o.xc(12,Ke,e.anio,e.idCatalogo)),o.Cb(2),o.Rc(" ",o.oc(8,8,"atras"),""),o.Cb(6),o.Qc(e.nombre_mes),o.Cb(6),o.sc("ngIf",e.medidor),o.Cb(4),o.Qc(o.oc(24,10,"referencia")),o.Cb(3),o.Qc(e.unidadMedida),o.Cb(1),o.sc("ngIf",e.tieneCosto(e.idCatalogo)),o.Cb(4),o.sc("ngForOf",e.rows))},directives:[a.e,a.d,n.m,n.l,nt.a],pipes:[c.c],styles:[""]}),t}(),Be=i("Wp6s"),Je=i("QibW"),Ye=i("bTqV");function He(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",12),o.Wb(1,"mat-label"),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"input",29),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().factura=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.Rc("",o.oc(3,2,"factura")," "),o.Cb(2),o.sc("ngModel",a.factura)}}function Ze(t,e){if(1&t&&(o.Wb(0,"option",32),o.Pc(1),o.Vb()),2&t){var i=e.$implicit,a=o.mc(2);o.sc("selected",i.placa==a.referencia)("value",i.placa),o.Cb(1),o.Qc(i.placa)}}function ti(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",12),o.Wb(1,"mat-label"),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"select",30),o.ic("change",(function(t){return o.Dc(i),o.mc().selectAuto(t)}))("ngModelChange",(function(t){return o.Dc(i),o.mc().referencia=t})),o.Nc(5,Ze,2,3,"option",31),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.Rc(" ",o.oc(3,3,"vehiculo")," "),o.Cb(2),o.sc("ngModel",a.referencia),o.Cb(1),o.sc("ngForOf",a.listaVehiculos)}}function ei(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",12),o.Wb(1,"mat-label"),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"input",29),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().referencia=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.Rc("",o.oc(3,2,"referencia")," "),o.Cb(2),o.sc("ngModel",a.referencia)}}function ii(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",12),o.Wb(1,"mat-label"),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"input",29),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().rendimiento=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.Qc(o.oc(3,2,"km_litros")),o.Cb(2),o.sc("ngModel",a.rendimiento)}}function ai(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",12),o.Wb(1,"mat-label"),o.Pc(2),o.Vb(),o.Wb(3,"input",13),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().litros=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.Rc("",a.unidadMedida," "),o.Cb(1),o.sc("ngModel",a.litros)}}function ni(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",12),o.Wb(1,"mat-label"),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"input",13),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().kilometros=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.Qc(o.oc(3,2,"kilometros")),o.Cb(2),o.sc("ngModel",a.kilometros)}}function ri(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",12),o.Wb(1,"mat-label"),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"input",13),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().kinicial=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.Qc(o.oc(3,2,"kil\xf3metros_iniciales")),o.Cb(2),o.sc("ngModel",a.kinicial)}}function oi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",12),o.Wb(1,"mat-label"),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"input",13),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().kfinal=t})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(2),o.Qc(o.oc(3,2,"kilometros_finales")),o.Cb(2),o.sc("ngModel",a.kfinal)}}function ci(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",33),o.ic("delete",(function(t){return o.Dc(i),o.mc().deleteAll(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(1),o.sc("texto",a.textoDelete)}}function si(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",33),o.ic("delete",(function(t){return o.Dc(i),o.mc(2).deleteok(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(1),o.sc("texto",a.textoDelete)}}function bi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Pc(2),o.Vb(),o.Wb(3,"td"),o.Pc(4),o.Vb(),o.Wb(5,"td"),o.Pc(6),o.nc(7,"number"),o.Vb(),o.Wb(8,"td"),o.Pc(9),o.nc(10,"number"),o.Vb(),o.Wb(11,"td"),o.Pc(12),o.nc(13,"number"),o.Vb(),o.Wb(14,"td"),o.Pc(15),o.nc(16,"number"),o.Vb(),o.Wb(17,"td"),o.Wb(18,"button",34),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().cargar(t)})),o.Rb(19,"i",35),o.Vb(),o.Vb(),o.Wb(20,"td"),o.Wb(21,"button",34),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().delete(t)})),o.Rb(22,"i",19),o.Vb(),o.Nc(23,si,2,1,"div",20),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.Qc(a.factura),o.Cb(2),o.Qc(a.verificable),o.Cb(2),o.Qc(o.pc(7,7,a.valor,"0.1-2")),o.Cb(3),o.Qc(o.pc(10,10,a.costo,"0.1-2")),o.Cb(3),o.Qc(o.pc(13,13,a.kilometros,"0.1-2")),o.Cb(3),o.Qc(o.pc(16,16,a.rendimiento,"0.1-2")),o.Cb(8),o.sc("ngIf",a.ocultar)}}function li(t,e){if(1&t&&(o.Wb(0,"th"),o.Pc(1),o.Vb()),2&t){var i=o.mc();o.Cb(1),o.Qc(i.lista.length)}}function di(t,e){if(1&t){var i=o.Xb();o.Wb(0,"th"),o.Wb(1,"mat-form-field"),o.Wb(2,"mat-label"),o.Pc(3,"Registro"),o.Vb(),o.Wb(4,"select",45),o.ic("valueChange",(function(t){o.Dc(i);var a=e.index;return o.mc(2).headerSend[a]=t}))("change",(function(t){o.Dc(i);var a=e.index;return o.mc(2).onChange(t.target.value,a)})),o.Wb(5,"option",46),o.Pc(6),o.nc(7,"translate"),o.Vb(),o.Wb(8,"option",47),o.Pc(9),o.nc(10,"translate"),o.Vb(),o.Wb(11,"option",48),o.Pc(12),o.nc(13,"translate"),o.Vb(),o.Wb(14,"option",49),o.Pc(15),o.nc(16,"translate"),o.Vb(),o.Wb(17,"option",50),o.Pc(18),o.nc(19,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=e.index,n=o.mc(2);o.Cb(4),o.sc("value",n.headerSend[a]),o.Cb(2),o.Qc(o.oc(7,6,"factura")),o.Cb(3),o.Qc(o.oc(10,8,"referencia")),o.Cb(3),o.Qc(o.oc(13,10,"litros")),o.Cb(3),o.Qc(o.oc(16,12,"moneda_local")),o.Cb(3),o.Qc(o.oc(19,14,"kilometros"))}}function ui(t,e){if(1&t&&(o.Wb(0,"td"),o.Pc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Qc(i)}}function gi(t,e){if(1&t&&(o.Wb(0,"tr"),o.Nc(1,ui,2,1,"td",21),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.sc("ngForOf",i)}}function hi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",36),o.Wb(1,"h4",37),o.Pc(2,"Carga de datos"),o.Vb(),o.Wb(3,"button",38),o.ic("click",(function(){return(0,e.dismiss)("Cross click")})),o.Wb(4,"span",39),o.Pc(5,"\xd7"),o.Vb(),o.Vb(),o.Vb(),o.Wb(6,"div",40),o.Wb(7,"div",1),o.Wb(8,"div",41),o.Wb(9,"table",42),o.Wb(10,"tr"),o.Nc(11,di,20,16,"th",21),o.Vb(),o.Wb(12,"tbody"),o.Nc(13,gi,2,1,"tr",21),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(14,"div",43),o.Wb(15,"button",44),o.ic("click",(function(){return o.Dc(i),o.mc().guardarXLS()})),o.Pc(16),o.nc(17,"translate"),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(11),o.sc("ngForOf",a.header),o.Cb(2),o.sc("ngForOf",a.data),o.Cb(3),o.Rc(" ",o.oc(17,3,"guardar")," ")}}var pi=function(t,e){return["/registro/matriz",t,e,1]},fi=function(){function t(t,e,i,a,n,r){this.reg=t,this.router=e,this.green=i,this.modalService=a,this.route=n,this.translate=r,this.modal=null,this.wopts={bookType:"xlsx",type:"array"},this.translate.setDefaultLang(this.green.getlang)}return t.prototype.pad=function(t){return t<10?"0"+t:t},t.prototype.ngOnInit=function(){var t=this;this.headerSend=[0,1,2,3,4],this.unidadMedida="Litros",this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.catalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.org=this.green.orgSelected,this.mes=Number(this.route.snapshot.paramMap.get("mes")),this.nameMes=this.green.getMeses(this.mes-1),this.unidad=Number(this.route.snapshot.paramMap.get("unidad")),this.tipo=this.green.tCombustible,this.rendimiento=0,this.ocultar=!1;var e={anio:this.anio,catalogo:this.catalogo,idUnidad:this.unidad,mes:this.mes,nombre:"enero",org:this.green.orgSelected};this.green.bloquear(),this.reg.contadoresCombustible(e).subscribe((function(e){t.lista=e.data,t.listaVehiculos=e.vehiculo,t.catalogoName=e.catalogo,t.entidad=e.entidad,t.totalValor=e.valor,t.totalCosto=e.costo,t.totalKilometros=e.kilometros,t.green.desbloquear()}))},t.prototype.borrarTotal=function(){this.textoDelete="Desea eliminar todos los datos",this.ocultar=!0},t.prototype.cancelar=function(){this.data=null,this.header=null,this.docu=null,this.fileName=null},t.prototype.onFileChange=function(t,e){var i=this;null!==this.data&&this.cancelar(),this.green.bloquear(),this.errorCarga=!1;var a=t.target;if(1!==a.files.length)throw new Error("Cannot use multiple files");var n=new FileReader;n.onload=function(t){var e=Bt.read(t.target.result,{type:"binary"});i.data=Bt.utils.sheet_to_json(e.Sheets[e.SheetNames[0]],{header:1}),i.header=i.data[0],isNaN(Number(i.header[0]))&&i.data.splice(0,1)},this.green.desbloquear(),n.readAsBinaryString(a.files[0]),this.modal=this.modalService.open(e,{windowClass:"dark-modal",size:"lg"})},t.prototype.cambiar=function(t,e){0===e?this.unidadMedida="Litros":1===e&&(this.unidadMedida="Galones"),this.litros>0&&(0===this.tipoOld&&1===e||0===this.tipoOld&&2===e?this.litros/=3.7854118:0===this.tipoOld&&3===e?this.litros/=.834:1===this.tipoOld&&0===e&&(this.litros*=3.7854118),this.litros.toFixed(2)),this.tipo=e},t.prototype.selectAuto=function(t){var e=this;this.listaVehiculos.forEach((function(t){t.placa===e.referencia&&(e.rendimiento=t.motor)}))},t.prototype.cargar=function(t){if(this.tipoOld=t.tipo,1===t.tipo)this.unidadMedida="Galones",this.litros=Number(t.valor/3.7854118);else try{this.litros=null!==t.valor?t.valor.toFixed(2):0}catch(e){}try{this.moneda=null!==t.costo?t.costo.toFixed(2):0,this.factura=t.factura,this.idFactura=t.idFactura,this.referencia=t.verificable,this.kilometros=t.kilometros,this.tipo=t.tipo,this.kinicial=null!==t.kinicial?t.kinicial.toFixed(2):0,this.kfinal=null!==t.kfinal?t.kfinal.toFixed(2):0,this.rendimiento=null!==t.rendimiento?t.rendimiento.toFixed(2):0}catch(e){}},t.prototype.deleteAll=function(t){var e=this;if(this.ocultar=!1,t){var i={anio:this.anio,catalogo:this.catalogo,idOrganizacion:this.green.orgSelected,idUnidad:this.unidad,mes:this.mes};this.green.bloquear(),this.reg.borrarCombustuble(i).subscribe((function(t){try{e.lista=new Array,e.recalcular(),e.green.desbloquear()}catch(i){e.green.desbloquear()}}))}},t.prototype.delete=function(t){void 0!==this.itemTemp&&null!=this.itemTemp&&(this.itemTemp.ocultar=!1),t.ocultar=!t.ocultar,this.itemTemp=t,this.textoDelete="Desea eliminar el registro: "+t.factura},t.prototype.deleteok=function(t){var e=this;t?this.reg.deleteCombustible({id:this.itemTemp.idFactura}).subscribe((function(i){try{e.itemTemp.ocultar=!1,200===i.status&&(e.lista.splice(e.lista.indexOf(t),1),e.recalcular()),e.green.succes(i.mensaje)}catch(a){e.green.succes(i.mensaje)}})):this.itemTemp.ocultar=!1},t.prototype.validar=function(){if(2===Number(this.tipo)){if(void 0===this.referencia||null==this.referencia)return this.green.error("Vehiculo es obligatorio"),!1;if(void 0===this.rendimiento||0===this.rendimiento||null==this.recalcular)return this.green.error("Rendimiento es obligatorio"),!1;if(void 0===this.moneda||null==this.moneda)return this.green.error("Moneda local es obligatorio"),!1;if(void 0===this.kinicial||null==this.kinicial)return this.green.error("Kilometro inicial es obligatorio"),!1;if(void 0===this.kfinal||null==this.kfinal)return this.green.error("Kilometro final es obligatorio"),!1}else{if(void 0===this.factura||null==this.factura)return this.green.error("Factura es obligatorio"),!1;if(void 0===this.referencia||null==this.referencia)return this.green.error("Referencia es obligatorio"),!1;if(void 0===this.litros||null==this.litros)return 0===Number(this.tipo)?this.green.error("Litros es obligatorio"):this.green.error("Galones es obligatorio"),!1;if(void 0===this.moneda||null==this.moneda)return this.green.error("Moneda local es obligatorio"),!1;if(void 0===this.kilometros||null==this.kilometros)return this.green.error("Kilometros es obligatorio"),!1}return!0},t.prototype.guardar=function(){var t=this,e=0,i=0;if(this.validar()){2===this.tipo?(this.kilometros=this.kfinal-this.kinicial,this.litros=this.kilometros/this.rendimiento,i=this.litros,e=this.rendimiento,this.factura=this.referencia):e=1===this.tipo?this.kilometros/(i=3.7854118*this.litros):this.kilometros/(i=this.litros);var a={anio:this.anio,costo:this.moneda,costoDolar:null,facturas:this.factura,gal:this.tipo,idCatalogo:this.catalogo,idFactura:this.idFactura,idUnidad:this.unidad,kfinal:this.kfinal,kilometros:this.kilometros,kinicial:this.kinicial,litros:i,mes:this.mes,org:this.green.orgSelected,referencia:this.referencia,rendimiento:e};this.lista=[],this.green.bloquear(),this.reg.nuevoCombustible(a).subscribe((function(e){try{t.litros=null,t.moneda=null,t.factura=null,t.idFactura=null,t.referencia=null,t.kinicial=null,t.kfinal=null,t.kilometros=null,t.rendimiento=null,t.tipo=t.green.tCombustible,t.totalValor=e.data.valor,t.lista=e.data.data,t.totalCosto=e.data.costo,t.totalKilometros=e.data.kilometros,t.green.desbloquear()}catch(i){t.green.desbloquear()}}))}},t.prototype.terminar=function(){var t=this;this.reg.guardarUnidad({mes:this.mes,idUnidad:this.unidad,valor:this.totalValor,idOrg:this.green.orgSelected,anio:this.anio}).subscribe((function(e){t.router.navigate(["/registro/matriz/"+t.anio+"/"+t.catalogo+"/1"])}))},t.prototype.recalcular=function(){var t=this;this.totalValor=0,this.totalCosto=0,this.totalKilometros=0,this.lista.forEach((function(e){t.totalValor+=e.valor,t.totalCosto+=e.costo,t.totalKilometros+=e.kilometros}))},t.prototype.onChange=function(t,e){this.headerSend[e]=Number(t)},t.prototype.guardarXLS=function(){var t=this;this.reg.combustiblecargaExel({org:this.green.orgSelected,data:this.data,anio:this.anio,idCatalogo:this.catalogo,idUnidad:this.unidad,mes:this.mes}).subscribe((function(e){t.modal.close(),t.ngOnInit()}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(a.c),o.Qb(r.e),o.Qb(s.e),o.Qb(a.a),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-combustible"]],decls:108,vars:90,consts:[[1,"example-card"],[1,"row"],[1,"col-6"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent",3,"routerLink"],[1,"fa","fa-arrow-left"],["id","file","type","file","multiple","false",1,"inputfile",3,"ngModel","ngModelChange","change"],["for","file"],[1,"fa","fa-upload"],[1,"subtitulo"],["aria-label","Uniadad de medidoda",3,"value"],[3,"value","change"],["class","input-class",4,"ngIf"],[1,"input-class"],["matInput","","numberFloat","",3,"ngModel","ngModelChange"],["placement","top",1,"btn","btn-sm",3,"ngbTooltip","click"],[1,"fa","fa-2x","fa-plus"],[1,"table","table-verificable"],["colspan","2"],[3,"click"],[1,"icon","icon-trash"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"table-total",2,"width","430px"],[2,"width","20%"],[2,"width","30%"],[2,"width","10%"],["mat-button","","type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"row",2,"display","none"],["combustible",""],["matInput","",3,"ngModel","ngModelChange"],["matNativeControl","",3,"ngModel","change","ngModelChange"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],[3,"texto","delete"],[1,"btn","btn-sm","trasparent",3,"click"],[1,"icon","icon-pencil"],[1,"modal-header"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-12",2,"overflow","scroll"],[1,"table"],[1,"modal-footer"],[1,"btn","btn-sm","btn-success",3,"click"],["matNativeControl","","required","",3,"value","valueChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"]],template:function(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-card",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"button",3),o.Rb(4,"i",4),o.Pc(5),o.nc(6,"translate"),o.Vb(),o.Vb(),o.Wb(7,"div",2),o.Wb(8,"input",5),o.ic("ngModelChange",(function(t){return e.docu=t}))("change",(function(t){o.Dc(i);var a=o.Bc(107);return e.onFileChange(t,a)})),o.Vb(),o.Wb(9,"label",6),o.Rb(10,"i",7),o.Pc(11),o.nc(12,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(13,"mat-card-header"),o.Wb(14,"h1",8),o.Pc(15),o.Vb(),o.Vb(),o.Wb(16,"mat-card-content"),o.Wb(17,"mat-radio-group",9),o.Wb(18,"mat-radio-button",10),o.ic("change",(function(t){return e.cambiar(t,2)})),o.Pc(19),o.nc(20,"translate"),o.Vb(),o.Wb(21,"mat-radio-button",10),o.ic("change",(function(t){return e.cambiar(t,0)})),o.Pc(22),o.nc(23,"translate"),o.Vb(),o.Wb(24,"mat-radio-button",10),o.ic("change",(function(t){return e.cambiar(t,1)})),o.Pc(25),o.nc(26,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(27,"mat-card-content"),o.Nc(28,He,5,4,"mat-form-field",11),o.Nc(29,ti,6,5,"mat-form-field",11),o.Nc(30,ei,5,4,"mat-form-field",11),o.Nc(31,ii,5,4,"mat-form-field",11),o.Nc(32,ai,4,2,"mat-form-field",11),o.Wb(33,"mat-form-field",12),o.Wb(34,"mat-label"),o.Pc(35),o.nc(36,"translate"),o.Vb(),o.Wb(37,"input",13),o.ic("ngModelChange",(function(t){return e.moneda=t})),o.Vb(),o.Vb(),o.Nc(38,ni,5,4,"mat-form-field",11),o.Nc(39,ri,5,4,"mat-form-field",11),o.Nc(40,oi,5,4,"mat-form-field",11),o.Wb(41,"button",14),o.ic("click",(function(){return e.guardar()})),o.nc(42,"translate"),o.Rb(43,"i",15),o.Vb(),o.Vb(),o.Wb(44,"mat-card-content"),o.Wb(45,"table",16),o.Wb(46,"thead"),o.Wb(47,"tr"),o.Wb(48,"th"),o.Pc(49),o.nc(50,"translate"),o.Vb(),o.Wb(51,"th"),o.Pc(52),o.nc(53,"translate"),o.Vb(),o.Wb(54,"th"),o.Pc(55),o.nc(56,"translate"),o.Vb(),o.Wb(57,"th"),o.Pc(58),o.nc(59,"translate"),o.Vb(),o.Wb(60,"th"),o.Pc(61),o.nc(62,"translate"),o.Vb(),o.Wb(63,"th"),o.Pc(64),o.nc(65,"translate"),o.Vb(),o.Wb(66,"th",17),o.Wb(67,"a",18),o.ic("click",(function(){return e.borrarTotal()})),o.Rb(68,"i",19),o.Vb(),o.Nc(69,ci,2,1,"div",20),o.Vb(),o.Vb(),o.Vb(),o.Wb(70,"tbody"),o.Nc(71,bi,24,19,"tr",21),o.Vb(),o.Vb(),o.Vb(),o.Wb(72,"mat-card-header"),o.Wb(73,"mat-card-actions"),o.Wb(74,"table",22),o.Wb(75,"thead"),o.Wb(76,"tr"),o.Wb(77,"th",23),o.Pc(78),o.nc(79,"translate"),o.Vb(),o.Wb(80,"th",23),o.Pc(81),o.nc(82,"translate"),o.Vb(),o.Wb(83,"th",24),o.Pc(84),o.nc(85,"translate"),o.Vb(),o.Wb(86,"th",24),o.Pc(87),o.nc(88,"translate"),o.Vb(),o.Vb(),o.Wb(89,"tr"),o.Wb(90,"th",25),o.Pc(91),o.nc(92,"number"),o.Vb(),o.Wb(93,"th",25),o.Pc(94),o.nc(95,"number"),o.Vb(),o.Wb(96,"th",25),o.Pc(97),o.nc(98,"number"),o.Vb(),o.Nc(99,li,2,1,"th",20),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(100,"mat-card-header"),o.Wb(101,"mat-card-actions"),o.Wb(102,"button",26),o.ic("click",(function(){return e.terminar()})),o.Pc(103),o.nc(104,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(105,"div",27),o.Nc(106,hi,18,5,"ng-template",null,28,o.Oc),o.Vb()}2&t&&(o.Cb(3),o.sc("routerLink",o.xc(87,pi,e.anio,e.catalogo)),o.Cb(2),o.Rc(" ",o.oc(6,42,"atras")," "),o.Cb(3),o.sc("ngModel",e.docu),o.Cb(3),o.Rc(" ",o.oc(12,44,"subir_archivo")," "),o.Cb(4),o.Tc("",e.entidad,": ",e.catalogoName,": ",e.nameMes,""),o.Cb(2),o.sc("value",e.tipo),o.Cb(1),o.sc("value",2),o.Cb(1),o.Rc(" ",o.oc(20,46,"km_litros")," "),o.Cb(2),o.sc("value",0),o.Cb(1),o.Rc(" ",o.oc(23,48,"litros")," "),o.Cb(2),o.sc("value",1),o.Cb(1),o.Rc(" ",o.oc(26,50,"galones")," "),o.Cb(3),o.sc("ngIf",2!==e.tipo),o.Cb(1),o.sc("ngIf",2===e.tipo),o.Cb(1),o.sc("ngIf",2!==e.tipo),o.Cb(1),o.sc("ngIf",2===e.tipo),o.Cb(1),o.sc("ngIf",2!==e.tipo),o.Cb(3),o.Rc(" ",o.oc(36,52,"moneda_local")," "),o.Cb(2),o.sc("ngModel",e.moneda),o.Cb(1),o.sc("ngIf",2!==e.tipo),o.Cb(1),o.sc("ngIf",2===e.tipo),o.Cb(1),o.sc("ngIf",2===e.tipo),o.Cb(1),o.tc("ngbTooltip",o.oc(42,54,"guardar")),o.Cb(8),o.Qc(o.oc(50,56,"factura_vehiculo")),o.Cb(3),o.Qc(o.oc(53,58,"referencia")),o.Cb(3),o.Qc(o.oc(56,60,"litros")),o.Cb(3),o.Qc(o.oc(59,62,"moneda_local")),o.Cb(3),o.Qc(o.oc(62,64,"kilometros")),o.Cb(3),o.Qc(o.oc(65,66,"rendimiento_km_litros")),o.Cb(5),o.sc("ngIf",e.ocultar),o.Cb(2),o.sc("ngForOf",e.lista),o.Cb(7),o.Qc(o.oc(79,68,"litros")),o.Cb(3),o.Qc(o.oc(82,70,"costo")),o.Cb(3),o.Qc(o.oc(85,72,"kilometros")),o.Cb(3),o.Qc(o.oc(88,74,"total_egistro")),o.Cb(4),o.Rc(" ",o.pc(92,76,e.totalValor,"0.1-2")," "),o.Cb(3),o.Rc(" ",o.pc(95,79,e.totalCosto,"0.1-2")," "),o.Cb(3),o.Rc(" ",o.pc(98,82,e.totalKilometros,"0.1-2")," "),o.Cb(2),o.sc("ngIf",e.lista),o.Cb(4),o.Rc(" ",o.oc(104,85,"guardar")," "))},directives:[Be.a,a.e,a.d,u.d,u.o,u.r,Be.d,Be.c,Je.b,Je.a,n.m,b.c,b.f,l.b,d,s.n,n.l,Be.b,Ye.a,u.x,u.s,u.z,g],pipes:[c.c,n.e],styles:[".form-check-label[_ngcontent-%COMP%]{font-size:12px}.inputfile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f3f2f3;color:#808081;border:1px solid #cdcccc;text-align:center;font-size:12px;padding:6px}.g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;font-weight:lighter}.g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fff;border-right:none;padding:4px 4px 4px 10px;height:25px;font-size:13px;color:#464600;font-size:11px}"]}),t}();function mi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",11),o.Wb(1,"mat-label"),o.Pc(2),o.nc(3,"translate"),o.Vb(),o.Wb(4,"input",15),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().$implicit.demanda=t}))("focusout",(function(t){return o.Dc(i),o.mc(2).updateConsumo(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc().$implicit;o.Cb(2),o.Qc(o.oc(3,2,"demanda_maxima")),o.Cb(2),o.sc("ngModel",a.demanda)}}function vi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-form-field",11),o.Wb(1,"mat-label"),o.Pc(2,"DQO"),o.Vb(),o.Wb(3,"input",15),o.ic("ngModelChange",(function(t){return o.Dc(i),o.mc().$implicit.kdo=t}))("focusout",(function(t){return o.Dc(i),o.mc(2).updateConsumo(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc().$implicit;o.Cb(3),o.sc("ngModel",a.kdo)}}function Vi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"mat-card-content"),o.Wb(1,"mat-card-content"),o.Wb(2,"div",11),o.Wb(3,"mat-label"),o.Pc(4),o.Vb(),o.Vb(),o.Wb(5,"mat-form-field",11),o.Wb(6,"mat-label"),o.Pc(7),o.nc(8,"translate"),o.Vb(),o.Wb(9,"input",12),o.ic("ngModelChange",(function(t){return o.Dc(i),e.$implicit.factura=t})),o.Vb(),o.Vb(),o.Wb(10,"mat-form-field",11),o.Wb(11,"mat-label"),o.Pc(12),o.nc(13,"translate"),o.Vb(),o.Wb(14,"input",12),o.ic("ngModelChange",(function(t){return o.Dc(i),e.$implicit.referencia=t})),o.Vb(),o.Vb(),o.Wb(15,"mat-form-field",11),o.Wb(16,"mat-label"),o.Pc(17),o.nc(18,"translate"),o.Vb(),o.Wb(19,"input",13),o.ic("focusout",(function(t){return o.Dc(i),o.mc().updateConsumo(t)}))("ngModelChange",(function(t){return o.Dc(i),e.$implicit.consumo=t})),o.Vb(),o.Vb(),o.Nc(20,mi,5,4,"mat-form-field",14),o.Nc(21,vi,4,1,"mat-form-field",14),o.Wb(22,"mat-form-field",11),o.Wb(23,"mat-label"),o.Pc(24),o.nc(25,"translate"),o.Vb(),o.Wb(26,"input",15),o.ic("ngModelChange",(function(t){return o.Dc(i),e.$implicit.costo=t}))("focusout",(function(t){return o.Dc(i),o.mc().updateConsumo(t)})),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit,n=o.mc();o.Cb(4),o.Qc(a.valor),o.Cb(3),o.Qc(o.oc(8,11,"factura")),o.Cb(2),o.sc("ngModel",a.factura),o.Cb(3),o.Qc(o.oc(13,13,"refencia")),o.Cb(2),o.sc("ngModel",a.referencia),o.Cb(3),o.Qc(o.oc(18,15,"consumo")),o.Cb(2),o.sc("ngModel",a.consumo),o.Cb(1),o.sc("ngIf",1==n.catalogo&&335!=n.unidad),o.Cb(1),o.sc("ngIf",n.tieneDQO(n.catalogo)&&335!=n.unidad),o.Cb(3),o.Rc(" ",o.oc(25,17,"moneda_local")," "),o.Cb(2),o.sc("ngModel",a.costo)}}function Wi(t,e){if(1&t&&(o.Wb(0,"th"),o.Pc(1),o.Vb()),2&t){var i=o.mc();o.Cb(1),o.Qc(i.datos.length)}}var Ci=function(t,e){return["/registro/matriz",t,e,1]},Mi=function(){function t(t,e,i,a,n){this.reg=t,this.router=e,this.route=i,this.green=a,this.translate=n,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.updateConsumo=function(t){var e=this;this.totalkWh=0,this.totalCosto=0,this.totalDqo=0,this.totalDemanda=0,this.datos.map((function(t){e.totalkWh+=Number(t.consumo),e.totalCosto+=Number(t.costo),e.totalDemanda+=Number(t.demanda),e.totalDqo+=Number(t.kdo)}))},t.prototype.tieneDQO=function(t){return this.green.tieneDQO(t)},t.prototype.tieneM3=function(t){return 1!==t&&!this.green.tieneDQO(t)},t.prototype.tieneKwh=function(t){return 1===t},t.prototype.ngOnInit=function(){var t=this;this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.catalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.org=this.green.orgSelected,this.mes=Number(this.route.snapshot.paramMap.get("mes")),this.nameMes=this.green.getMeses(this.mes-1),this.unidad=Number(this.route.snapshot.paramMap.get("unidad"));var e={anio:this.anio,idCatalogo:this.catalogo,idMes:this.mes,idOrganizacion:this.green.orgSelected,idUnidad:this.unidad};this.green.bloquear(),this.reg.getContadores(e).subscribe((function(e){t.green.desbloquear(),t.datos=e.data.valor,t.entidad=e.data.entidad,t.catalogoName=e.data.catalogo,t.totalkWh=0,t.totalDemanda=0,t.totalCosto=0,t.totalDqo=0,t.datos.forEach((function(e){t.totalkWh+=Number(e.consumo)*Number(e.porciento/100),t.totalDemanda+=Number(e.demanda),t.totalCosto+=Number(e.costo),t.totalDqo+=e.kdo}))}))},t.prototype.guardar=function(){var t=this,e={anio:this.anio,idCatalogo:this.catalogo,idMes:this.mes,idOrganizacion:this.org,idUnidad:this.unidad,medidor:this.datos,nombreMes:this.nombreMes,valor:this.totalkWh};this.green.bloquear(),this.reg.guardarReferencia(e).subscribe((function(e){try{t.green.succes(t.green.msgExito),t.totalkWh=0,t.totalDemanda=0,t.totalCosto=0,t.totalDqo=0,t.datos.forEach((function(e){t.totalkWh+=Number(e.consumo)*Number(e.porciento/100),t.totalDemanda+=Number(e.demanda),t.totalCosto+=Number(e.costo),t.totalDqo+=e.kdo})),t.green.desbloquear(),t.reg.guardarUnidad({mes:t.mes,idUnidad:t.unidad,valor:t.totalkWh,idCatalogo:t.catalogo,idOrg:t.green.orgSelected,anio:t.anio}).subscribe((function(e){t.router.navigate(["/registro/matriz/"+t.anio+"/"+t.catalogo+"/1"])}))}catch(i){t.green.desbloquear()}}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(a.c),o.Qb(a.a),o.Qb(r.e),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-medidor"]],decls:35,vars:29,consts:[[1,"example-card"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"subtitulo"],[4,"ngFor","ngForOf"],[1,"table-total",2,"width","430px"],[2,"width","20%"],[2,"width","30%"],[2,"width","10%"],[4,"ngIf"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"input-class"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","numberFloat","",3,"ngModel","focusout","ngModelChange"],["class","input-class",4,"ngIf"],["matInput","","numberFloat","",3,"ngModel","ngModelChange","focusout"]],template:function(t,e){1&t&&(o.Wb(0,"mat-card",0),o.Wb(1,"button",1),o.Rb(2,"i",2),o.Pc(3),o.nc(4,"translate"),o.Vb(),o.Wb(5,"mat-card-header"),o.Wb(6,"h1",3),o.Pc(7),o.Vb(),o.Vb(),o.Nc(8,Vi,27,19,"mat-card-content",4),o.Wb(9,"mat-card-header"),o.Wb(10,"mat-card-actions"),o.Wb(11,"table",5),o.Wb(12,"thead"),o.Wb(13,"tr"),o.Wb(14,"th",6),o.Pc(15,"kWh"),o.Vb(),o.Wb(16,"th",6),o.Pc(17),o.nc(18,"translate"),o.Vb(),o.Wb(19,"th",7),o.Pc(20),o.nc(21,"translate"),o.Vb(),o.Vb(),o.Wb(22,"tr"),o.Wb(23,"th",8),o.Pc(24),o.nc(25,"number"),o.Vb(),o.Wb(26,"th",8),o.Pc(27),o.nc(28,"number"),o.Vb(),o.Nc(29,Wi,2,1,"th",9),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(30,"mat-card-header"),o.Wb(31,"mat-card-actions"),o.Wb(32,"button",10),o.ic("click",(function(){return e.guardar()})),o.Pc(33),o.nc(34,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(1),o.sc("routerLink",o.xc(26,Ci,e.anio,e.catalogo)),o.Cb(2),o.Rc(" ",o.oc(4,12,"atras")," "),o.Cb(4),o.Tc("",e.entidad,": ",e.catalogoName,": ",e.nameMes,""),o.Cb(1),o.sc("ngForOf",e.datos),o.Cb(9),o.Qc(o.oc(18,14,"costo")),o.Cb(3),o.Qc(o.oc(21,16,"total_egistro")),o.Cb(4),o.Rc(" ",o.pc(25,18,e.totalkWh,"0.1-2")," "),o.Cb(3),o.Rc(" ",o.pc(28,21,e.totalCosto,"0.1-2")," "),o.Cb(2),o.sc("ngIf",e.datos),o.Cb(4),o.Rc(" ",o.oc(34,24,"guardar")," "))},directives:[Be.a,a.e,a.d,Be.d,n.l,Be.b,n.m,Be.c,b.f,b.c,l.b,u.d,u.o,u.r,d],pipes:[c.c,n.e],encapsulation:2}),t}();function Pi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",20),o.ic("delete",(function(t){return o.Dc(i),o.mc(3).deleteAll(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(3);o.Cb(1),o.sc("texto",a.textoDelete)}}function xi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Pc(2),o.Vb(),o.Wb(3,"td"),o.Pc(4),o.Vb(),o.Wb(5,"td"),o.Pc(6),o.Vb(),o.Wb(7,"td"),o.Wb(8,"button",17),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc(2).editar(t)})),o.Rb(9,"i",18),o.Vb(),o.Vb(),o.Wb(10,"td"),o.Wb(11,"button",17),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc(2).eliminar(t)})),o.Rb(12,"i",19),o.Vb(),o.Nc(13,Pi,2,1,"div",12),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.Qc(a.valor),o.Cb(2),o.Qc(a.referencia),o.Cb(2),o.Qc(a.costo),o.Cb(7),o.sc("ngIf",a.ocultar)}}function yi(t,e){if(1&t&&(o.Wb(0,"tbody"),o.Nc(1,xi,14,4,"tr",16),o.Vb()),2&t){var i=o.mc();o.Cb(1),o.sc("ngForOf",i.lista)}}function Oi(t,e){if(1&t&&(o.Wb(0,"span"),o.Pc(1),o.Vb()),2&t){var i=o.mc();o.Cb(1),o.Rc(" ",i.lista.length,"")}}var ki=function(t,e){return["/registro/matriz",t,e,1]},Ni=function(){function t(t,e,i,a,n){this.reg=t,this.green=e,this.router=i,this.route=a,this.translate=n,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){var t=this;this.id=null,this.factura="N/A",this.referencia="N/A",this.residuos=null,this.total=0,this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.catalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.org=this.green.orgSelected,this.mes=Number(this.route.snapshot.paramMap.get("mes")),this.nameMes=this.green.getMeses(this.mes-1),this.unidad=Number(this.route.snapshot.paramMap.get("unidad")),this.reg.contadoresIndustria({anio:this.anio,catalogo:this.catalogo,idUnidad:this.unidad,mes:this.mes,org:this.green.orgSelected}).subscribe((function(e){t.lista=e.data,t.lista.map((function(e){t.total+=Number(e.costo)})),t.entidad=e.entidad,t.catalogoName=e.catalogo,t.green.desbloquear()}))},t.prototype.editar=function(t){this.id=t.idVerificable,this.factura=t.valor,this.referencia=t.referencia,this.residuos=t.costo},t.prototype.validar=function(){return 0===this.residuos||null===this.residuos?(this.green.error("Residuos es requerido"),!1):""===this.referencia||""===this.referencia?(this.green.error("Referencia es requerido"),!1):""!==this.factura&&""!==this.factura||(this.green.error("Factura es requerido"),!1)},t.prototype.guardar=function(){var t=this;if(this.validar()){var e={anio:this.anio,facturas:this.factura,id:this.id,idCatalogo:this.catalogo,mes:this.mes,org:this.green.orgSelected,referencia:this.referencia,tipo:1,ton:this.residuos,idUnidad:this.unidad};this.green.bloquear(),this.reg.nuevoVerificable(e).subscribe((function(e){try{t.recargarData(),t.factura="",t.referencia="",t.residuos=0,t.green.desbloquear()}catch(i){t.green.desbloquear()}}))}},t.prototype.recargarData=function(){var t=this,e={anio:this.anio,idUnidad:this.unidad,mes:this.mes,catalogo:this.catalogo,org:this.green.orgSelected};this.total=0,this.green.bloquear(),this.reg.contadoresIndustria(e).subscribe((function(e){try{t.lista=e.data,t.lista.map((function(e){t.total+=Number(e.costo)})),t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.prototype.eliminar=function(t){this.itemSel=t,this.textoDelete="Desea eliminar el registro: "+t.valor,t.ocultar=!t.ocultar},t.prototype.deleteAll=function(t){var e=this;t?(this.green.bloquear(),this.reg.deleteVerificable({id:this.itemSel.idVerificable}).subscribe((function(t){try{e.green.succes(e.green.msgExito),e.recargarData(),e.green.desbloquear()}catch(i){e.green.desbloquear()}}))):this.itemSel.ocultar=!1},t.prototype.terminar=function(){var t=this;this.reg.guardarUnidad({mes:this.mes,idUnidad:this.unidad,valor:this.total,idOrg:this.green.orgSelected,anio:this.anio}).subscribe((function(e){t.router.navigate(["/registro/matriz/"+t.anio+"/"+t.catalogo+"/1"])}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(r.e),o.Qb(a.c),o.Qb(a.a),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-residuos"]],decls:62,vars:49,consts:[[1,"example-card"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"subtitulo"],[1,"input-class"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","numberFloat","",3,"ngModel","ngModelChange"],["placement","top",1,"btn","btn-sm",3,"ngbTooltip","click"],[1,"fa","fa-2x","fa-plus"],[1,"table","table-verificable"],[2,"width","30%"],["colspan","2",2,"width","10%"],[4,"ngIf"],[1,"table-total",2,"width","430px"],[2,"width","10%"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","trasparent",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-trash"],[3,"texto","delete"]],template:function(t,e){1&t&&(o.Wb(0,"mat-card",0),o.Wb(1,"button",1),o.Rb(2,"i",2),o.Pc(3),o.nc(4,"translate"),o.Vb(),o.Wb(5,"mat-card-header"),o.Wb(6,"h1",3),o.Pc(7),o.Vb(),o.Vb(),o.Wb(8,"mat-card-content"),o.Wb(9,"mat-form-field",4),o.Wb(10,"mat-label"),o.Pc(11),o.nc(12,"translate"),o.Vb(),o.Wb(13,"input",5),o.ic("ngModelChange",(function(t){return e.factura=t})),o.Vb(),o.Vb(),o.Wb(14,"mat-form-field",4),o.Wb(15,"mat-label"),o.Pc(16),o.nc(17,"translate"),o.Vb(),o.Wb(18,"input",5),o.ic("ngModelChange",(function(t){return e.referencia=t})),o.Vb(),o.Vb(),o.Wb(19,"mat-form-field",4),o.Wb(20,"mat-label"),o.Pc(21),o.nc(22,"translate"),o.Vb(),o.Wb(23,"input",6),o.ic("ngModelChange",(function(t){return e.residuos=t})),o.Vb(),o.Vb(),o.Wb(24,"button",7),o.ic("click",(function(){return e.guardar()})),o.nc(25,"translate"),o.Rb(26,"i",8),o.Vb(),o.Vb(),o.Wb(27,"mat-card-content"),o.Wb(28,"table",9),o.Wb(29,"thead"),o.Wb(30,"tr"),o.Wb(31,"th",10),o.Pc(32),o.nc(33,"translate"),o.Vb(),o.Wb(34,"th",10),o.Pc(35),o.nc(36,"translate"),o.Vb(),o.Wb(37,"th",10),o.Pc(38),o.nc(39,"translate"),o.Vb(),o.Rb(40,"th",11),o.Vb(),o.Vb(),o.Nc(41,yi,2,1,"tbody",12),o.Vb(),o.Vb(),o.Wb(42,"mat-card-content"),o.Wb(43,"table",13),o.Wb(44,"thead"),o.Wb(45,"tr"),o.Wb(46,"th"),o.Pc(47),o.nc(48,"translate"),o.Vb(),o.Wb(49,"th"),o.Pc(50),o.nc(51,"translate"),o.Vb(),o.Vb(),o.Wb(52,"tr"),o.Wb(53,"th",14),o.Pc(54),o.nc(55,"number"),o.Vb(),o.Wb(56,"th",14),o.Nc(57,Oi,2,1,"span",12),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(58,"mat-card-content"),o.Wb(59,"button",15),o.ic("click",(function(){return e.terminar()})),o.Pc(60),o.nc(61,"translate"),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(1),o.sc("routerLink",o.xc(46,ki,e.anio,e.catalogo)),o.Cb(2),o.Rc(" ",o.oc(4,21,"atras")," "),o.Cb(4),o.Tc("",e.entidad,": ",e.catalogoName,": ",e.nameMes,""),o.Cb(4),o.Qc(o.oc(12,23,"gestor_autorizado")),o.Cb(2),o.sc("ngModel",e.factura),o.Cb(3),o.Rc("",o.oc(17,25,"referencia")," "),o.Cb(2),o.sc("ngModel",e.referencia),o.Cb(3),o.Qc(o.oc(22,27,"residuos_kg")),o.Cb(2),o.sc("ngModel",e.residuos),o.Cb(1),o.tc("ngbTooltip",o.oc(25,29,"guardar")),o.Cb(8),o.Qc(o.oc(33,31,"gestor_autorizado")),o.Cb(3),o.Qc(o.oc(36,33,"referencia")),o.Cb(3),o.Qc(o.oc(39,35,"residuos_kg")),o.Cb(3),o.sc("ngIf",e.lista),o.Cb(6),o.Qc(o.oc(48,37,"total_kg")),o.Cb(3),o.Qc(o.oc(51,39,"total_egistro")),o.Cb(4),o.Rc(" ",o.pc(55,41,e.total,"0.1-2")," "),o.Cb(3),o.sc("ngIf",e.lista),o.Cb(3),o.Rc(" ",o.oc(61,44,"guardar")," "))},directives:[Be.a,a.e,a.d,Be.d,Be.c,b.c,b.f,l.b,u.d,u.o,u.r,d,s.n,n.m,n.l,g],pipes:[c.c,n.e],encapsulation:2}),t}();function wi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",23),o.ic("delete",(function(t){return o.Dc(i),o.mc().deleteAll(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc();o.Cb(1),o.sc("texto",a.textoDelete)}}function Ri(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",23),o.ic("delete",(function(t){return o.Dc(i),o.mc(2).deleteok(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(1),o.sc("texto",a.textoDelete)}}function Di(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Pc(2),o.Vb(),o.Wb(3,"td"),o.Pc(4),o.Vb(),o.Wb(5,"td"),o.Pc(6),o.Vb(),o.Wb(7,"td"),o.Pc(8),o.Vb(),o.Wb(9,"td",24),o.Wb(10,"button",25),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().cargar(t)})),o.Rb(11,"i",26),o.Vb(),o.Vb(),o.Wb(12,"td",24),o.Wb(13,"button",27),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().delete(t)})),o.Rb(14,"i",15),o.Vb(),o.Nc(15,Ri,2,1,"div",16),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.Qc(a.factura),o.Cb(2),o.Qc(a.verificable),o.Cb(2),o.Qc(a.valor),o.Cb(2),o.Qc(a.costo),o.Cb(7),o.sc("ngIf",a.ocultar)}}function Qi(t,e){if(1&t&&(o.Wb(0,"th"),o.Pc(1),o.Vb()),2&t){var i=o.mc();o.Cb(1),o.Qc(i.lista.length)}}var Ii=function(t,e){return["/registro/matriz",t,e,1]},Fi=function(){function t(t,e,i,a,n){this.reg=t,this.router=e,this.route=i,this.translate=a,this.green=n,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){var t=this;this.ocultar=!1,this.tipo=0,this.unidadMedida="Litros",this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.catalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.org=this.green.orgSelected,this.mes=Number(this.route.snapshot.paramMap.get("mes")),this.nameMes=this.green.getMeses(this.mes-1),this.unidad=Number(this.route.snapshot.paramMap.get("unidad"));var e={anio:this.anio,catalogo:this.catalogo,idUnidad:this.unidad,mes:this.mes,org:this.green.orgSelected};this.green.bloquear(),this.reg.contadoresCombustible(e).subscribe((function(e){try{t.catalogoName=e.catalogo,t.entidad=e.entidad,t.lista=e.data,t.totalLitros=e.valor,t.totalMoneda=e.costo,t.green.desbloquear()}catch(i){}}))},t.prototype.cambiar=function(t){null==this.litros&&(this.litros=0),0===Number(t)&&1===Number(this.tipo)?this.litros*=3.7854118:0===Number(t)&&2===Number(this.tipo)?this.litros*=1e3:1===Number(t)&&0===Number(this.tipo)?this.litros/=3.7854118:1===Number(t)&&2===Number(this.tipo)?this.litros*=264.172:2===Number(t)&&0===Number(this.tipo)?this.litros/=1e3:2===Number(t)&&1===Number(this.tipo)&&(this.litros/=264.172),this.tipo=t,this.unidadMedida=0===Number(this.tipo)?"Litros":1===Number(this.tipo)?"Galones":"M3"},t.prototype.validar=function(){return null==this.referencia?(this.green.error("Referencia es obligatorio"),!1):null==this.factura?(this.green.error("Factura es obligatorio"),!1):null==this.litros?(0===Number(this.tipo)?this.green.error("Litros es obligatorio"):1===Number(this.tipo)?this.green.error("Galones es obligatorio"):this.green.error("M3 es obligatorio"),!1):null!=this.moneda||(this.green.error("Moneda local es obligatorio"),!1)},t.prototype.cargar=function(t){this.litros=null!==t.valor?t.valor.toFixed(2):0,this.moneda=null!==t.costo?t.costo.toFixed(2):0,this.factura=t.factura,this.idFactura=t.idFactura,this.referencia=t.verificable,this.tipo=t.tipo},t.prototype.delete=function(t){void 0!==this.itemTemp&&null!=this.itemTemp&&(this.itemTemp.ocultar=!1),t.ocultar=!t.ocultar,this.itemTemp=t,this.textoDelete="Desea eliminar el registro: "+t.factura},t.prototype.deleteok=function(t){var e=this;t?(this.reg.deleteCombustible({id:this.itemTemp.idFactura}).subscribe((function(i){try{e.itemTemp.ocultar=!1,200===Number(i.status)&&e.lista.splice(e.lista.indexOf(t),1),e.green.succes(i.mensaje)}catch(a){e.green.succes(i.mensaje)}})),this.recalcular()):this.itemTemp.ocultar=!1},t.prototype.borrarTotal=function(){this.textoDelete="Desea eliminar todos los datos",this.ocultar=!0},t.prototype.deleteAll=function(t){var e=this;if(this.ocultar=!1,t){var i={anio:this.reg.anio,catalogo:this.reg.catalogo,idOrganizacion:this.green.orgSelected,idUnidad:this.reg.unidad,mes:this.reg.mes};this.green.bloquear(),this.reg.borrarCombustuble(i).subscribe((function(t){try{e.lista=new Array,e.totalLitros=0,e.totalMoneda=0,e.green.desbloquear()}catch(i){e.green.desbloquear()}}))}},t.prototype.recalcular=function(){var t=this;this.totalLitros=0,this.totalMoneda=0,this.lista.forEach((function(e){t.totalLitros+=e.valor,t.totalMoneda+=e.costo}))},t.prototype.guardar=function(){var t=this;if(this.validar()){var e;e=1===Number(this.tipo)?3.7854118*Number(this.litros):2===Number(this.tipo)?1e3*Number(this.litros):Number(this.litros);var i={anio:this.anio,costo:this.moneda,costoDolar:null,facturas:this.factura,gal:this.tipo,idCatalogo:this.catalogo,idFactura:this.idFactura,idUnidad:this.unidad,litros:e,mes:this.mes,org:this.green.orgSelected,referencia:this.referencia};this.green.bloquear(),this.reg.nuevoCombustible(i).subscribe((function(e){try{t.litros=null,t.moneda=null,t.factura=null,t.idFactura=null,t.referencia=null,t.tipo=0,t.green.succes(e.mensaje),t.lista=e.data.data,t.totalLitros=e.data.valor,t.totalMoneda=e.data.costo,t.green.desbloquear()}catch(i){t.green.desbloquear()}}))}},t.prototype.terminar=function(){var t=this;this.reg.guardarUnidad({mes:this.mes,idUnidad:this.unidad,valor:this.totalLitros,idOrg:this.green.orgSelected,anio:this.anio}).subscribe((function(e){t.router.navigate(["/registro/matriz/"+t.anio+"/"+t.catalogo+"/1"])}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(a.c),o.Qb(a.a),o.Qb(c.d),o.Qb(r.e))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-notransporte"]],decls:90,vars:69,consts:[[1,"example-card"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"subtitulo"],[3,"value"],["value","1",3,"value","click"],[3,"value","click"],[1,"input-class"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","numberFloat","",3,"ngModel","ngModelChange"],["placement","top","ngbTooltip","Guardar",1,"btn","btn-sm",3,"click"],[1,"fa","fa-2x","fa-plus"],[1,"table","table-verificable"],["colspan","2"],[3,"click"],[1,"icon","icon-trash"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"table-total",2,"width","430px"],[2,"width","20%"],[2,"width","30%"],[2,"width","10%"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[3,"texto","delete"],[2,"text-align","center"],[1,"btn","btn-sm","transparent",3,"click"],[1,"icon","icon-pencil"],[1,"btn","btn-sm","trasparent",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"mat-card",0),o.Wb(1,"button",1),o.Rb(2,"i",2),o.Pc(3),o.nc(4,"translate"),o.Vb(),o.Wb(5,"mat-card-header"),o.Wb(6,"h1",3),o.Pc(7),o.Vb(),o.Vb(),o.Wb(8,"mat-card-content"),o.Wb(9,"mat-radio-group",4),o.Wb(10,"mat-radio-button",5),o.ic("click",(function(){return e.cambiar(2)})),o.Pc(11," m"),o.Wb(12,"small"),o.Pc(13,"3"),o.Vb(),o.Vb(),o.Wb(14,"mat-radio-button",6),o.ic("click",(function(){return e.cambiar(0)})),o.Pc(15),o.nc(16,"translate"),o.Vb(),o.Wb(17,"mat-radio-button",6),o.ic("click",(function(){return e.cambiar(1)})),o.Pc(18),o.nc(19,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(20,"mat-card-content"),o.Wb(21,"mat-form-field",7),o.Wb(22,"mat-label"),o.Pc(23),o.nc(24,"translate"),o.Vb(),o.Wb(25,"input",8),o.ic("ngModelChange",(function(t){return e.factura=t})),o.Vb(),o.Vb(),o.Wb(26,"mat-form-field",7),o.Wb(27,"mat-label"),o.Pc(28),o.nc(29,"translate"),o.Vb(),o.Wb(30,"input",8),o.ic("ngModelChange",(function(t){return e.referencia=t})),o.Vb(),o.Vb(),o.Wb(31,"mat-form-field",7),o.Wb(32,"mat-label"),o.Pc(33),o.Vb(),o.Wb(34,"input",9),o.ic("ngModelChange",(function(t){return e.litros=t})),o.Vb(),o.Vb(),o.Wb(35,"mat-form-field",7),o.Wb(36,"mat-label"),o.Pc(37),o.nc(38,"translate"),o.Vb(),o.Wb(39,"input",9),o.ic("ngModelChange",(function(t){return e.moneda=t})),o.Vb(),o.Vb(),o.Wb(40,"button",10),o.ic("click",(function(){return e.guardar()})),o.Rb(41,"i",11),o.Vb(),o.Vb(),o.Wb(42,"mat-card-content"),o.Wb(43,"table",12),o.Wb(44,"thead"),o.Wb(45,"tr"),o.Wb(46,"th"),o.Pc(47),o.nc(48,"translate"),o.Vb(),o.Wb(49,"th"),o.Pc(50),o.nc(51,"translate"),o.Vb(),o.Wb(52,"th"),o.Pc(53),o.nc(54,"translate"),o.Vb(),o.Wb(55,"th"),o.Pc(56),o.nc(57,"translate"),o.Vb(),o.Wb(58,"th",13),o.Wb(59,"a",14),o.ic("click",(function(){return e.borrarTotal()})),o.Rb(60,"i",15),o.Vb(),o.Nc(61,wi,2,1,"div",16),o.Vb(),o.Vb(),o.Vb(),o.Wb(62,"tbody"),o.Nc(63,Di,16,5,"tr",17),o.Vb(),o.Vb(),o.Vb(),o.Wb(64,"mat-card-content"),o.Wb(65,"table",18),o.Wb(66,"thead"),o.Wb(67,"tr"),o.Wb(68,"th",19),o.Pc(69),o.nc(70,"translate"),o.Vb(),o.Wb(71,"th",19),o.Pc(72),o.nc(73,"translate"),o.Vb(),o.Wb(74,"th",20),o.Pc(75),o.nc(76,"translate"),o.Vb(),o.Vb(),o.Wb(77,"tr"),o.Wb(78,"th",21),o.Pc(79),o.nc(80,"number"),o.Vb(),o.Wb(81,"th",21),o.Pc(82),o.nc(83,"number"),o.Vb(),o.Nc(84,Qi,2,1,"th",16),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(85,"mat-card-header"),o.Wb(86,"mat-card-actions"),o.Wb(87,"button",22),o.ic("click",(function(){return e.terminar()})),o.Pc(88),o.nc(89,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(1),o.sc("routerLink",o.xc(66,Ii,e.anio,e.catalogo)),o.Cb(2),o.Rc(" ",o.oc(4,32,"atras")," "),o.Cb(4),o.Tc("",e.entidad,": ",e.catalogoName,": ",e.nameMes,""),o.Cb(2),o.sc("value",e.tipo),o.Cb(1),o.sc("value",2),o.Cb(4),o.sc("value",0),o.Cb(1),o.Rc(" ",o.oc(16,34,"litros")," "),o.Cb(2),o.sc("value",1),o.Cb(1),o.Rc(" ",o.oc(19,36,"galones")," "),o.Cb(5),o.Qc(o.oc(24,38,"factura")),o.Cb(2),o.sc("ngModel",e.factura),o.Cb(3),o.Rc("",o.oc(29,40,"referencia")," "),o.Cb(2),o.sc("ngModel",e.referencia),o.Cb(3),o.Rc("",e.unidadMedida," "),o.Cb(1),o.sc("ngModel",e.litros),o.Cb(3),o.Rc(" ",o.oc(38,42,"moneda_local")," "),o.Cb(2),o.sc("ngModel",e.moneda),o.Cb(8),o.Qc(o.oc(48,44,"factura")),o.Cb(3),o.Qc(o.oc(51,46,"referencia")),o.Cb(3),o.Qc(o.oc(54,48,"litros")),o.Cb(3),o.Qc(o.oc(57,50,"moneda_local")),o.Cb(5),o.sc("ngIf",e.ocultar),o.Cb(2),o.sc("ngForOf",e.lista),o.Cb(6),o.Qc(o.oc(70,52,"litros")),o.Cb(3),o.Qc(o.oc(73,54,"costo")),o.Cb(3),o.Qc(o.oc(76,56,"total_egistro")),o.Cb(4),o.Rc(" ",o.pc(80,58,e.totalLitros,"0.1-2")," "),o.Cb(3),o.Rc(" ",o.pc(83,61,e.totalMoneda,"0.1-2")," "),o.Cb(2),o.sc("ngIf",e.lista),o.Cb(4),o.Rc(" ",o.oc(89,64,"guardar")," "))},directives:[Be.a,a.e,a.d,Be.d,Be.c,Je.b,Je.a,b.c,b.f,l.b,u.d,u.o,u.r,d,s.n,n.m,n.l,Be.b,g],pipes:[c.c,n.e],encapsulation:2}),t}();function _i(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",21),o.ic("delete",(function(t){return o.Dc(i),o.mc(2).deleteAll(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(1),o.sc("texto",a.textoDelete)}}function zi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Pc(2),o.Vb(),o.Wb(3,"td"),o.Pc(4),o.Vb(),o.Wb(5,"td"),o.Pc(6),o.Vb(),o.Wb(7,"td"),o.Wb(8,"button",17),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().editar(t)})),o.Rb(9,"i",18),o.Vb(),o.Vb(),o.Wb(10,"td"),o.Wb(11,"button",17),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().eliminar(t)})),o.Rb(12,"i",19),o.Vb(),o.Nc(13,_i,2,1,"div",20),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.Qc(a.factura),o.Cb(2),o.Qc(a.verificable),o.Cb(2),o.Qc(a.resmas),o.Cb(7),o.sc("ngIf",a.ocultar)}}function qi(t,e){if(1&t&&(o.Wb(0,"th",14),o.Pc(1),o.Vb()),2&t){var i=o.mc();o.Cb(1),o.Rc(" ",i.lista.length," ")}}var Si=function(t,e){return["/registro/matriz",t,e,1]},Li=function(){function t(t,e,i,a,n){this.reg=t,this.green=e,this.router=i,this.route=a,this.translate=n,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){var t=this;this.id=null,this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.catalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.org=this.green.orgSelected,this.mes=Number(this.route.snapshot.paramMap.get("mes")),this.nameMes=this.green.getMeses(this.mes-1),this.unidad=Number(this.route.snapshot.paramMap.get("unidad")),this.referencia="N/A",this.factura="N/A";var e={anio:this.anio,idCatalogo:this.catalogo,idUnidad:this.unidad,idMes:this.mes,idOrganizacion:this.green.orgSelected};this.green.bloquear(),this.reg.contadoresPapel(e).subscribe((function(e){t.entidad=e.data.entidad,t.catalogoName=e.data.catalogo,t.lista=e.data.data,t.total=0,t.lista.map((function(e){t.total+=e.resmas})),t.green.desbloquear()}))},t.prototype.editar=function(t){this.id=t.id,this.factura=t.factura,this.referencia=t.verificable,this.resmas=t.resmas},t.prototype.guardar=function(){var t=this;if(this.validar()){var e={anio:this.anio,factura:this.factura,id:this.id,idCatalogo:this.catalogo,idMes:this.mes,idOrganizacion:this.green.orgSelected,idUnidad:this.unidad,medidor:null,valor:this.resmas,verificable:this.referencia};this.green.bloquear(),this.reg.nuevafacturaPapel(e).subscribe((function(e){try{t.factura="N/A",t.id=null,t.resmas=null,t.referencia="N/A",t.listarDatos(),t.green.desbloquear()}catch(i){t.green.desbloquear()}}))}},t.prototype.eliminar=function(t){this.itemSel=t,this.textoDelete="Desea eliminar el registro: "+t.factura,t.ocultar=!t.ocultar},t.prototype.deleteAll=function(t){var e=this;t?(this.green.bloquear(),this.reg.eliminarPapel({id:this.itemSel.id}).subscribe((function(t){e.green.desbloquear(),e.listarDatos()}))):this.itemSel.ocultar=!1},t.prototype.validar=function(){return null==this.resmas?(this.green.error("Resmas es requerido"),!1):null==this.referencia||void 0===this.referencia?(this.green.error("Referencia es requerido"),!1):null!=this.factura&&void 0!==this.factura||(this.green.error("Factura es requerido"),!1)},t.prototype.listarDatos=function(){var t=this,e={anio:this.anio,idCatalogo:this.catalogo,idUnidad:this.unidad,idMes:this.mes,idOrganizacion:this.green.orgSelected,valor:this.resmas};this.green.bloquear(),this.reg.contadoresPapel(e).subscribe((function(e){try{t.lista=e.data.data,t.total=e.data.total,t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.prototype.terminar=function(){var t=this;this.reg.guardarUnidad({mes:this.mes,idUnidad:this.unidad,valor:this.total,idOrg:this.green.orgSelected,anio:this.anio}).subscribe((function(e){t.router.navigate(["/registro/matriz/"+t.anio+"/"+t.catalogo+"/1"])}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(r.e),o.Qb(a.c),o.Qb(a.a),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-papel"]],decls:52,vars:19,consts:[[1,"example-card"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"subtitulo"],[1,"input-class"],["matInput","",3,"ngModel","ngModelChange"],["numberFloat","","matInput","",3,"ngModel","ngModelChange"],["placement","top","ngbTooltip","Guardar","ngbTooltip","Guardar",1,"btn","btn-sm",3,"click"],[1,"fa","fa-2x","fa-plus"],[1,"table","table-verificable"],[2,"width","30%"],["colspan","2",2,"width","10%"],[4,"ngFor","ngForOf"],[1,"table-total",2,"width","430px"],[2,"width","10%"],["style","width: 10%;",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","trasparent",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-trash"],[4,"ngIf"],[3,"texto","delete"]],template:function(t,e){1&t&&(o.Wb(0,"mat-card",0),o.Wb(1,"button",1),o.Rb(2,"i",2),o.Pc(3),o.nc(4,"translate"),o.Vb(),o.Wb(5,"mat-card-header"),o.Wb(6,"h1",3),o.Pc(7),o.Vb(),o.Vb(),o.Wb(8,"mat-card-content"),o.Wb(9,"mat-form-field",4),o.Wb(10,"mat-label"),o.Pc(11,"Factura"),o.Vb(),o.Wb(12,"input",5),o.ic("ngModelChange",(function(t){return e.factura=t})),o.Vb(),o.Vb(),o.Wb(13,"mat-form-field",4),o.Wb(14,"mat-label"),o.Pc(15,"Referencia"),o.Vb(),o.Wb(16,"input",5),o.ic("ngModelChange",(function(t){return e.referencia=t})),o.Vb(),o.Vb(),o.Wb(17,"mat-form-field",4),o.Wb(18,"mat-label"),o.Pc(19,"Resmas"),o.Vb(),o.Wb(20,"input",6),o.ic("ngModelChange",(function(t){return e.resmas=t})),o.Vb(),o.Vb(),o.Wb(21,"button",7),o.ic("click",(function(){return e.guardar()})),o.Rb(22,"i",8),o.Vb(),o.Vb(),o.Wb(23,"mat-card-content"),o.Wb(24,"table",9),o.Wb(25,"thead"),o.Wb(26,"tr"),o.Wb(27,"th",10),o.Pc(28,"Factura"),o.Vb(),o.Wb(29,"th",10),o.Pc(30,"Referencia"),o.Vb(),o.Wb(31,"th",10),o.Pc(32,"Resmas"),o.Vb(),o.Rb(33,"th",11),o.Vb(),o.Vb(),o.Wb(34,"tbody"),o.Nc(35,zi,14,4,"tr",12),o.Vb(),o.Vb(),o.Vb(),o.Wb(36,"mat-card-content"),o.Wb(37,"table",13),o.Wb(38,"thead"),o.Wb(39,"tr"),o.Wb(40,"th"),o.Pc(41,"Resmas"),o.Vb(),o.Wb(42,"th"),o.Pc(43,"Total de Registro"),o.Vb(),o.Vb(),o.Wb(44,"tr"),o.Wb(45,"th",14),o.Pc(46),o.nc(47,"number"),o.Vb(),o.Nc(48,qi,2,1,"th",15),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(49,"mat-card-content"),o.Wb(50,"button",16),o.ic("click",(function(){return e.terminar()})),o.Pc(51," Guardar "),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(1),o.sc("routerLink",o.xc(16,Si,e.anio,e.catalogo)),o.Cb(2),o.Rc(" ",o.oc(4,11,"atras")," "),o.Cb(4),o.Tc("",e.entidad,": ",e.catalogoName,": ",e.nameMes,""),o.Cb(5),o.sc("ngModel",e.factura),o.Cb(4),o.sc("ngModel",e.referencia),o.Cb(4),o.sc("ngModel",e.resmas),o.Cb(15),o.sc("ngForOf",e.lista),o.Cb(11),o.Rc(" ",o.pc(47,13,e.total,"0.1-2")," "),o.Cb(2),o.sc("ngIf",e.lista))},directives:[Be.a,a.e,a.d,Be.d,Be.c,b.c,b.f,l.b,u.d,u.o,u.r,d,s.n,n.l,n.m,g],pipes:[c.c,n.e],encapsulation:2}),t}(),$i=i("iadO"),ji=i("bSwM");function Ui(t,e){1&t&&(o.Wb(0,"mat-label"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Qc(o.oc(2,1,"millas")))}function Ti(t,e){1&t&&(o.Wb(0,"mat-label"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Rc(" ",o.oc(2,1,"kilometros")," "))}function Ai(t,e){1&t&&(o.Wb(0,"span"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Rc(" ",o.oc(2,1,"no")," "))}function Xi(t,e){1&t&&(o.Wb(0,"span"),o.Pc(1),o.nc(2,"translate"),o.Vb()),2&t&&(o.Cb(1),o.Rc(" ",o.oc(2,1,"si")," "))}function Ei(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",27),o.ic("delete",(function(t){return o.Dc(i),o.mc(2).borrarItem(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(1),o.sc("texto",a.textDelete)}}function Ki(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Pc(2),o.Vb(),o.Wb(3,"td"),o.Pc(4),o.nc(5,"date"),o.Vb(),o.Wb(6,"td"),o.Pc(7),o.Vb(),o.Wb(8,"td"),o.Pc(9),o.Vb(),o.Wb(10,"td"),o.Nc(11,Ai,3,3,"span",11),o.Nc(12,Xi,3,3,"span",11),o.Vb(),o.Wb(13,"td"),o.Wb(14,"button",24),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().edit(t)})),o.Rb(15,"i",25),o.Vb(),o.Vb(),o.Wb(16,"td"),o.Wb(17,"button",24),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().eliminar(t)})),o.Rb(18,"i",26),o.Vb(),o.Nc(19,Ei,2,1,"div",11),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.Qc(a.vuelo),o.Cb(2),o.Qc(o.pc(5,7,a.fecha,"dd/MM/yyyy")),o.Cb(3),o.Qc(a.millas),o.Cb(2),o.Qc(a.pasajeros),o.Cb(2),o.sc("ngIf",0==a.ida_regreso),o.Cb(1),o.sc("ngIf",1==a.ida_regreso),o.Cb(7),o.sc("ngIf",a.ocultar)}}function Gi(t,e){if(1&t&&(o.Wb(0,"th"),o.Pc(1),o.Vb()),2&t){var i=o.mc();o.Cb(1),o.Qc(i.lista.length)}}var Bi=function(t,e){return["/registro/matriz",t,e,1]};function Ji(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"app-delete",21),o.ic("delete",(function(t){return o.Dc(i),o.mc(2).deleteok(t)})),o.Vb(),o.Vb()}if(2&t){var a=o.mc(2);o.Cb(1),o.sc("texto",a.textoDelete)}}function Yi(t,e){if(1&t){var i=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Pc(2),o.Vb(),o.Wb(3,"td"),o.Pc(4),o.Vb(),o.Wb(5,"td"),o.Pc(6),o.Vb(),o.Wb(7,"td"),o.Wb(8,"button",17),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().editar(t)})),o.Rb(9,"i",18),o.Vb(),o.Vb(),o.Wb(10,"td"),o.Wb(11,"button",17),o.ic("click",(function(){o.Dc(i);var t=e.$implicit;return o.mc().eliminar(t)})),o.Rb(12,"i",19),o.Vb(),o.Nc(13,Ji,2,1,"div",20),o.Vb(),o.Vb()}if(2&t){var a=e.$implicit;o.Cb(2),o.Qc(a.factura),o.Cb(2),o.Qc(a.verificable),o.Cb(2),o.Qc(a.valor),o.Cb(7),o.sc("ngIf",a.ocultar)}}function Hi(t,e){if(1&t&&(o.Wb(0,"th",14),o.Pc(1),o.Vb()),2&t){var i=o.mc();o.Cb(1),o.Rc(" ",i.lista.length," ")}}var Zi=function(t,e){return["/registro/matriz",t,e,1]},ta=[{path:"",children:[{path:"arbol",component:Z,data:{title:"Fuentes y cat\xe1logo",reg:!0,path:"/registro/arbol",buscador:!0,nocons:!0}},{path:"matriz/:anio/:fuente/:save",component:U,data:{title:"Fuentes y cat\xe1logo",reg:!0,path:"/registro/arbol",buscador:!1,nocons:!0}},{path:"cargaviajes/:anio",component:Ne,data:{title:"Carga de datos viajes a\xe9reos",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"verificable/:anio/:catalogo/:mes",component:yt,data:{title:"Verificable",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"combustible/:anio/:catalogo/:mes/:unidad",component:fi,data:{title:"Medidor",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"electricidad/:anio/:catalogo/:mes/:unidad",component:Mi,data:{title:"Medidor",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"residuos/:anio/:catalogo/:mes/:unidad",component:Ni,data:{title:"Medidor",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"papel/:anio/:catalogo/:mes/:unidad",component:Li,data:{title:"Medidor",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"notrasporte/:anio/:catalogo/:mes/:unidad",component:Fi,data:{title:"Medidor",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"viaje/:anio/:catalogo/:mes/:unidad",component:function(){function t(t,e,i,a,n){this.reg=t,this.green=e,this.router=i,this.route=a,this.translate=n,this.date=new u.f,this.serializedDate=new u.f((new Date).toISOString()),this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){this.tipo=1,this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.catalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.org=this.green.orgSelected,this.mes=Number(this.route.snapshot.paramMap.get("mes")),this.nameMes=this.green.getMeses(this.mes-1),this.unidad=Number(this.route.snapshot.paramMap.get("unidad")),this.recargarViajes()},t.prototype.cambiar=function(t,e){void 0!==this.millas&&null!=this.millas||(this.millas=0),2===this.tipo&&1===e?this.millas*=1.852:1===this.tipo&&2===e&&(this.millas/=1.852)},t.prototype.edit=function(t){this.idVuelo=t.id,this.vuelo=t.vuelo,this.millas=t.millas,this.npasajeros=t.pasajeros,this.idaretorno=t.ida_regreso,this.date=new u.f(new Date(t.fecha)),this.tipo=t.um,2===this.tipo&&(this.millas/=1.852),void 0!==this.tipo&&null!=this.tipo||(this.tipo=1)},t.prototype.eliminar=function(t){void 0!==this.itemSel&&null!=this.itemSel&&(this.itemSel.ocultar=!1),this.textDelete="Desea eliminar el registro: "+t.vuelo,t.ocultar=!0,this.itemSel=t},t.prototype.borrarItem=function(t){var e=this;t?(this.itemSel.ocultar=!1,this.green.bloquear(),this.reg.eliminarViaje({id:this.itemSel.id}).subscribe((function(t){try{1===t.data&&e.recargarViajes(),e.green.desbloquear()}catch(i){e.green.desbloquear()}}))):this.itemSel.ocultar=!1},t.prototype.recargarViajes=function(){var t=this,e={anio:this.anio,catalogo:this.catalogo,idOrganizacion:this.green.orgSelected,mes:this.mes};this.green.bloquear(),this.reg.registroViajes(e).subscribe((function(e){try{t.entidad=e.data.entidad,t.catalogoName=e.data.catalogo,t.lista=e.data.data,t.total=e.data.total,t.green.desbloquear()}catch(i){t.green.desbloquear()}}))},t.prototype.validar=function(){return void 0===this.vuelo||null==this.vuelo?(this.green.error("Vuelo es obligatorio"),!1):void 0===this.date||null==this.date?(this.green.error("Fecha es obligatorio"),!1):void 0===this.millas||null==this.millas?(this.green.error("Distancia es obligatorio"),!1):void 0!==this.npasajeros&&null!=this.npasajeros||(this.green.error("Numerp de pasajeros es obligatorio"),!1)},t.prototype.nuevoValor=function(){var t=this;if(this.validar()){var e;e=2===this.tipo?this.millas*=1.852:this.millas;var i={anio:this.anio,catalogo:this.catalogo,fecha:this.date.value,id:this.idVuelo,ida_regreso:this.idaretorno,idOrganizacion:this.green.orgSelected,kilometros:e,mes:this.mes,pasajeros:this.npasajeros,umedida:this.tipo,vuelo:this.vuelo};this.green.bloquear(),this.reg.facturaViaje(i).subscribe((function(e){t.date=new u.f(new Date);try{t.idaretorno=null,t.idVuelo=null,t.millas=null,t.vuelo=null,t.npasajeros=null,t.recargarViajes()}catch(i){t.green.desbloquear()}}))}},t.prototype.terminar=function(){var t=this;this.reg.guardarUnidad({mes:this.mes,idUnidad:this.unidad,valor:this.total,idOrg:this.green.orgSelected,anio:this.anio}).subscribe((function(e){t.router.navigate(["/registro/matriz/"+t.anio+"/"+t.catalogo+"/1"])}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(r.e),o.Qb(a.c),o.Qb(a.a),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-viajes"]],decls:84,vars:73,consts:[[1,"example-card"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"subtitulo"],["aria-label","Uniadad de medidoda",3,"value"],[3,"value","change"],[1,"input-class"],["matInput","","required","",3,"ngModel","ngModelChange"],["matInput","","readonly","",3,"matDatepicker","placeholder","formControl"],["matSuffix","",3,"for"],["picker1",""],[4,"ngIf"],["matInput","","numberFloat","","required","",3,"ngModel","ngModelChange"],[1,"example-margin",3,"ngModel","ngModelChange"],["mat-button","","placement","top",1,"btn","btn-sm",3,"ngbTooltip","click"],[1,"fa","fa-2x","fa-plus"],[1,"table","table-verificable"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"table-total",2,"width","430px"],[2,"width","20%"],[2,"width","30%"],[2,"width","10%"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","trasparent",3,"click"],[1,"icon","icon-pencil"],[1,"icon","icon-trash"],[3,"texto","delete"]],template:function(t,e){if(1&t&&(o.Wb(0,"mat-card",0),o.Wb(1,"button",1),o.Rb(2,"i",2),o.Pc(3),o.nc(4,"translate"),o.Vb(),o.Wb(5,"mat-card-header"),o.Wb(6,"h1",3),o.Pc(7),o.Vb(),o.Vb(),o.Wb(8,"mat-card-content"),o.Wb(9,"mat-radio-group",4),o.Wb(10,"mat-radio-button",5),o.ic("change",(function(t){return e.cambiar(t,1)})),o.Pc(11),o.nc(12,"translate"),o.Vb(),o.Wb(13,"mat-radio-button",5),o.ic("change",(function(t){return e.cambiar(t,2)})),o.Pc(14),o.nc(15,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(16,"mat-card-content"),o.Wb(17,"mat-form-field",6),o.Wb(18,"mat-label"),o.Pc(19),o.nc(20,"translate"),o.Vb(),o.Wb(21,"input",7),o.ic("ngModelChange",(function(t){return e.vuelo=t})),o.Vb(),o.Vb(),o.Wb(22,"mat-form-field"),o.Rb(23,"input",8),o.nc(24,"translate"),o.Rb(25,"mat-datepicker-toggle",9),o.Rb(26,"mat-datepicker",null,10),o.Vb(),o.Wb(28,"mat-form-field",6),o.Nc(29,Ui,3,3,"mat-label",11),o.Nc(30,Ti,3,3,"mat-label",11),o.Wb(31,"input",12),o.ic("ngModelChange",(function(t){return e.millas=t})),o.Vb(),o.Vb(),o.Wb(32,"mat-form-field",6),o.Wb(33,"mat-label"),o.Pc(34),o.nc(35,"translate"),o.Vb(),o.Wb(36,"input",12),o.ic("ngModelChange",(function(t){return e.npasajeros=t})),o.Vb(),o.Vb(),o.Wb(37,"mat-checkbox",13),o.ic("ngModelChange",(function(t){return e.idaretorno=t})),o.Pc(38),o.nc(39,"translate"),o.Vb(),o.Wb(40,"button",14),o.ic("click",(function(){return e.nuevoValor()})),o.nc(41,"translate"),o.Rb(42,"i",15),o.Vb(),o.Vb(),o.Wb(43,"mat-card-content"),o.Wb(44,"table",16),o.Wb(45,"thead"),o.Wb(46,"tr"),o.Wb(47,"th"),o.Pc(48),o.nc(49,"translate"),o.Vb(),o.Wb(50,"th"),o.Pc(51),o.nc(52,"translate"),o.Vb(),o.Wb(53,"th"),o.Pc(54),o.nc(55,"translate"),o.Vb(),o.Wb(56,"th"),o.Pc(57),o.nc(58,"translate"),o.Vb(),o.Wb(59,"th"),o.Pc(60),o.nc(61,"translate"),o.Vb(),o.Rb(62,"th",17),o.Vb(),o.Vb(),o.Wb(63,"tbody"),o.Nc(64,Ki,20,10,"tr",18),o.Vb(),o.Vb(),o.Vb(),o.Wb(65,"mat-card-content"),o.Wb(66,"table",19),o.Wb(67,"thead"),o.Wb(68,"tr"),o.Wb(69,"th",20),o.Pc(70),o.nc(71,"translate"),o.Vb(),o.Wb(72,"th",21),o.Pc(73),o.nc(74,"translate"),o.Vb(),o.Vb(),o.Wb(75,"tr"),o.Wb(76,"th",22),o.Pc(77),o.nc(78,"number"),o.Vb(),o.Nc(79,Gi,2,1,"th",11),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(80,"mat-card-content"),o.Wb(81,"button",23),o.ic("click",(function(){return e.terminar()})),o.Pc(82),o.nc(83,"translate"),o.Vb(),o.Vb(),o.Vb()),2&t){var i=o.Bc(27);o.Cb(1),o.sc("routerLink",o.xc(70,Bi,e.anio,e.catalogo)),o.Cb(2),o.Rc(" ",o.oc(4,35,"atras")," "),o.Cb(4),o.Tc("",e.entidad,": ",e.catalogoName,": ",e.nameMes,""),o.Cb(2),o.sc("value",e.tipo),o.Cb(1),o.sc("value",1),o.Cb(1),o.Rc(" ",o.oc(12,37,"kilometros")," "),o.Cb(2),o.sc("value",2),o.Cb(1),o.Rc(" ",o.oc(15,39,"millas")," "),o.Cb(5),o.Qc(o.oc(20,41,"vuelo")),o.Cb(2),o.sc("ngModel",e.vuelo),o.Cb(2),o.tc("placeholder",o.oc(24,43,"fecha")),o.sc("matDatepicker",i)("formControl",e.date),o.Cb(2),o.sc("for",i),o.Cb(4),o.sc("ngIf",2==e.tipo),o.Cb(1),o.sc("ngIf",1==e.tipo),o.Cb(1),o.sc("ngModel",e.millas),o.Cb(3),o.Qc(o.oc(35,45,"no_pasajeros")),o.Cb(2),o.sc("ngModel",e.npasajeros),o.Cb(1),o.sc("ngModel",e.idaretorno),o.Cb(1),o.Rc(" ",o.oc(39,47,"ida_y_retorno")," "),o.Cb(2),o.tc("ngbTooltip",o.oc(41,49,"guardar")),o.Cb(8),o.Qc(o.oc(49,51,"vuelo")),o.Cb(3),o.Qc(o.oc(52,53,"fecha")),o.Cb(3),o.Qc(o.oc(55,55,"kilometros")),o.Cb(3),o.Qc(o.oc(58,57,"no_pasajeros")),o.Cb(3),o.Qc(o.oc(61,59,"ida_y_retorno")),o.Cb(4),o.sc("ngForOf",e.lista),o.Cb(6),o.Qc(o.oc(71,61,"total_kil\xf3metros")),o.Cb(3),o.Qc(o.oc(74,63,"total_egistro")),o.Cb(4),o.Rc(" ",o.pc(78,65,e.total,"0.1-2")," "),o.Cb(2),o.sc("ngIf",e.lista),o.Cb(3),o.Rc(" ",o.oc(83,68,"guardar")," ")}},directives:[Be.a,a.e,a.d,Be.d,Be.c,Je.b,Je.a,b.c,b.f,l.b,u.d,u.w,u.o,u.r,$i.b,u.g,$i.d,b.g,$i.a,n.m,d,ji.a,Ye.a,s.n,n.l,g],pipes:[c.c,n.e,n.d],styles:[".form-check-label[_ngcontent-%COMP%]{font-size:12px}.form-group[_ngcontent-%COMP%]{margin-bottom:4px;margin-top:4px}.g-grid[_ngcontent-%COMP%]{height:250px;overflow-y:scroll}.g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f3f2f3;color:#808081;border:1px solid #cdcccc;text-align:center;font-size:12px;padding:6px}.g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;font-weight:lighter}.g-grid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fff;border-right:none;padding:4px 4px 4px 10px;height:25px;font-size:13px;color:#464600;font-size:11px}"]}),t}(),data:{title:"Medidor",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"gases/:anio/:catalogo/:mes/:unidad",component:function(){function t(t,e,i,a,n){this.green=t,this.reg=e,this.router=i,this.route=a,this.translate=n,this.translate.setDefaultLang(this.green.getlang)}return t.prototype.ngOnInit=function(){var t=this;this.anio=Number(this.route.snapshot.paramMap.get("anio")),this.catalogo=Number(this.route.snapshot.paramMap.get("catalogo")),this.org=this.green.orgSelected,this.mes=Number(this.route.snapshot.paramMap.get("mes")),this.nameMes=this.green.getMeses(this.mes-1),this.unidad=Number(this.route.snapshot.paramMap.get("unidad")),this.factura="N/A",this.referencia="N/A",this.libras=0;var e={anio:this.anio,idCatalogo:this.catalogo,idUnidad:this.unidad,mes:this.mes,org:this.green.orgSelected};this.green.bloquear(),this.reg.contadoresGas(e).subscribe((function(e){t.catalogoName=e.data.catalogo,t.entidad=e.data.entidad,t.lista=e.data.data,t.total=e.data.total,t.green.desbloquear()}))},t.prototype.editar=function(t){this.factura=t.factura,this.referencia=t.verificable,this.libras=t.valor,this.id=t.id},t.prototype.eliminar=function(t){void 0!==this.itemTemp&&null!=this.itemTemp&&(this.itemTemp.ocultar=!1),t.ocultar=!t.ocultar,this.itemTemp=t,this.textoDelete="Desea eliminar el registro: "+t.factura},t.prototype.deleteok=function(t){var e=this;t?this.reg.deleteGas({id:this.itemTemp.id}).subscribe((function(i){try{e.itemTemp.ocultar=!1,200===i.status&&(e.lista.splice(e.lista.indexOf(t),1),e.reload()),e.green.succes(i.mensaje)}catch(a){e.green.succes(i.mensaje)}})):this.itemTemp.ocultar=!1},t.prototype.deleteAll=function(t){},t.prototype.reload=function(){var t=this;this.reg.contadoresGas({anio:this.reg.anio,idUnidad:this.unidad,mes:this.mes,org:this.green.orgSelected}).subscribe((function(e){t.lista=e.data.data,t.total=e.data.total}))},t.prototype.validar=function(){return""===this.factura||void 0===this.factura||null==this.factura?(this.green.error("Factura es requerido"),!1):""===this.referencia||null==this.referencia?(this.green.error("Referencia es requerido"),!1):null!=this.libras&&void 0!==this.libras||(this.green.error("Libras es requerido"),!1)},t.prototype.guardar=function(){var t=this;this.validar()&&this.reg.medidorGas({anio:this.anio,facturas:this.factura,id:this.id,idUnidad:this.unidad,libras:this.libras,mes:this.mes,org:this.green.orgSelected,referencia:this.referencia}).subscribe((function(e){t.factura="N/A",t.referencia="N/A",t.libras=0,t.reload()}))},t.prototype.terminar=function(){var t=this;this.reg.guardarUnidad({mes:this.mes,idUnidad:this.unidad,valor:this.total,idOrg:this.green.orgSelected,anio:this.anio}).subscribe((function(e){t.router.navigate(["/registro/matriz/"+t.anio+"/"+t.catalogo+"/1"])}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(r.e),o.Qb(r.h),o.Qb(a.c),o.Qb(a.a),o.Qb(c.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-gases"]],decls:52,vars:19,consts:[[1,"example-card"],["routerLinkActive","router-link-active",1,"btn","btn-sm","trasparent",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"subtitulo"],[1,"input-class"],["matInput","",3,"ngModel","ngModelChange"],["numberFloat","","matInput","",3,"ngModel","ngModelChange"],["placement","top","ngbTooltip","Guardar",1,"btn","btn-sm",3,"click"],[1,"fa","fa-2x","fa-plus"],[1,"table","table-verificable"],[2,"width","30%"],["colspan","2",2,"width","10%"],[4,"ngFor","ngForOf"],[1,"table-total",2,"width","430px"],[2,"width","10%"],["style","width: 10%;",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","trasparent",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-trash"],[4,"ngIf"],[3,"texto","delete"]],template:function(t,e){1&t&&(o.Wb(0,"mat-card",0),o.Wb(1,"button",1),o.Rb(2,"i",2),o.Pc(3),o.nc(4,"translate"),o.Vb(),o.Wb(5,"mat-card-header"),o.Wb(6,"h1",3),o.Pc(7),o.Vb(),o.Vb(),o.Wb(8,"mat-card-content"),o.Wb(9,"mat-form-field",4),o.Wb(10,"mat-label"),o.Pc(11,"Factura"),o.Vb(),o.Wb(12,"input",5),o.ic("ngModelChange",(function(t){return e.factura=t})),o.Vb(),o.Vb(),o.Wb(13,"mat-form-field",4),o.Wb(14,"mat-label"),o.Pc(15,"Referencia"),o.Vb(),o.Wb(16,"input",5),o.ic("ngModelChange",(function(t){return e.referencia=t})),o.Vb(),o.Vb(),o.Wb(17,"mat-form-field",4),o.Wb(18,"mat-label"),o.Pc(19,"Libras"),o.Vb(),o.Wb(20,"input",6),o.ic("ngModelChange",(function(t){return e.libras=t})),o.Vb(),o.Vb(),o.Wb(21,"button",7),o.ic("click",(function(){return e.guardar()})),o.Rb(22,"i",8),o.Vb(),o.Vb(),o.Wb(23,"mat-card-content"),o.Wb(24,"table",9),o.Wb(25,"thead"),o.Wb(26,"tr"),o.Wb(27,"th",10),o.Pc(28,"Factura"),o.Vb(),o.Wb(29,"th",10),o.Pc(30,"Referencia"),o.Vb(),o.Wb(31,"th",10),o.Pc(32,"Libras"),o.Vb(),o.Rb(33,"th",11),o.Vb(),o.Vb(),o.Wb(34,"tbody"),o.Nc(35,Yi,14,4,"tr",12),o.Vb(),o.Vb(),o.Vb(),o.Wb(36,"mat-card-content"),o.Wb(37,"table",13),o.Wb(38,"thead"),o.Wb(39,"tr"),o.Wb(40,"th"),o.Pc(41,"Libras"),o.Vb(),o.Wb(42,"th"),o.Pc(43,"Total de Registro"),o.Vb(),o.Vb(),o.Wb(44,"tr"),o.Wb(45,"th",14),o.Pc(46),o.nc(47,"number"),o.Vb(),o.Nc(48,Hi,2,1,"th",15),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(49,"mat-card-content"),o.Wb(50,"button",16),o.ic("click",(function(){return e.terminar()})),o.Pc(51," Guardar "),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(1),o.sc("routerLink",o.xc(16,Zi,e.anio,e.catalogo)),o.Cb(2),o.Rc(" ",o.oc(4,11,"atras")," "),o.Cb(4),o.Tc("",e.entidad,": ",e.catalogoName,": ",e.nameMes,""),o.Cb(5),o.sc("ngModel",e.factura),o.Cb(4),o.sc("ngModel",e.referencia),o.Cb(4),o.sc("ngModel",e.libras),o.Cb(15),o.sc("ngForOf",e.lista),o.Cb(11),o.Rc(" ",o.pc(47,13,e.total,"0.1-2")," "),o.Cb(2),o.sc("ngIf",e.lista))},directives:[Be.a,a.e,a.d,Be.d,Be.c,b.c,b.f,l.b,u.d,u.o,u.r,d,s.n,n.l,n.m,g],pipes:[c.c,n.e],encapsulation:2}),t}(),data:{title:"Medidor",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"papel/:anio/:catalogo/:mes/:unidad",component:Li,data:{title:"Medidor",reg:!0,path:"/registro/arbol",buscador:!1}},{path:"cdatos",component:Gt,data:{title:"Cuadro de datos",reg:!0,path:"/registro/cdatos",buscador:!0}},{path:"vercdatos/:anio/:catalogo",component:qt,data:{title:"Cuadro de datos",reg:!0,path:"/registro/cdatos"}},{path:"exportar",component:Re,data:{title:"Exportar datos consolidado",reg:!0,buscador:!0,path:"/registro/cdatos"}},{path:"ver-verificable/:catalogo/:anio/:mes/:org",component:Ge,data:{title:"Verificable",reg:!0,buscador:!0,path:"/registro/cdatos"}}]}],ea=i("mqiu"),ia=i("tk/3"),aa=i("NFeN"),na=i("MGFw"),ra=i("WtWf");i("QdLy"),i("mvVQ"),i("/E8u"),i("8vcG"),i("95OS"),i("XNiG"),i("2Vo4"),i("HDdC"),i("VRyK"),i("7Hc7"),i("LRne"),i("xgIS"),i("pLZG"),i("lJxs"),i("Kj3r"),i("eIep"),i("1G5W"),i("IzEk"),i("vkgz");var oa={provide:o.b,useFactory:function(t,e){return function(){if(Object(n.B)(e)){var i=Array.from(t.querySelectorAll("[class*=".concat(ca,"]"))),a=/\bflex-layout-.+?\b/g;i.forEach((function(t){t.classList.contains("".concat(ca,"ssr"))&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(a,"")}))}}},deps:[n.c,o.D],multi:!0},ca="flex-layout-",sa=function(){var t=Object(ra.a)((function t(){Object(na.a)(this,t)}));return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},providers:[oa]}),t}(),ba={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},la=new o.s("Flex Layout token, config options for the library",{providedIn:"root",factory:function(){return ba}}),da=new o.s("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),ua=new o.s("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}}),ga="(orientation: portrait) and (max-width: 599.9px)",ha="(orientation: landscape) and (max-width: 959.9px)",pa="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",fa="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",ma="(orientation: portrait) and (min-width: 840px)",va="(orientation: landscape) and (min-width: 1280px)";"".concat(ga,", ").concat(ha),"".concat(pa," , ").concat(fa),"".concat(ma,", ").concat(va," "),"".concat(ga),"".concat(pa," "),"".concat(ma),"".concat(ha),"".concat(fa),"".concat(va),i("UDiu"),i("8LU1");var Va=function(){var t=Object(ra.a)((function t(){Object(na.a)(this,t)}));return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[sa]]}),t}(),Wa=(i("TR1e"),i("JL25"),i("t9bE"),i("KUzl"),i("cH1L")),Ca=function(){var t=Object(ra.a)((function t(){Object(na.a)(this,t)}));return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[sa,Wa.a]]}),t}(),Ma=function(){var t=Object(ra.a)((function t(){Object(na.a)(this,t)}));return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[sa]]}),t}(),Pa=function(){var t=function(){function t(e,i){Object(na.a)(this,t),Object(n.C)(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}return Object(ra.a)(t,null,[{key:"withConfig",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ngModule:t,providers:e.serverLoaded?[{provide:la,useValue:Object.assign(Object.assign({},ba),e)},{provide:ua,useValue:i,multi:!0},{provide:da,useValue:!0}]:[{provide:la,useValue:Object.assign(Object.assign({},ba),e)},{provide:ua,useValue:i,multi:!0}]}}}]),t}();return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)(o.ec(da),o.ec(o.D))},imports:[[Ca,Va,Ma],Ca,Va,Ma]}),t}(),xa=i("FKr1"),ya=(i("JX91"),i("u47x"),i("0EQZ"),i("FtGj"),function(){var t=Object(ra.a)((function t(){Object(na.a)(this,t)}));return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[xa.h],xa.h]}),t}()),Oa=function(){var t=Object(ra.a)((function t(){Object(na.a)(this,t)}));return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[xa.j,xa.q,xa.h,xa.o,n.b],xa.j,xa.h,xa.o,ya]}),t}(),ka=i("8yf6"),Na=function(){function t(t){this.http=t}return t.prototype.upload=function(t){var e=this,i={};return t.forEach((function(t){var a=new FormData;a.append("file",t,t.name);var n=new ia.e("POST","http://localhost:3000/upload",a,{reportProgress:!0}),r=new ka.Subject;(new Date).getTime(),e.http.request(n).subscribe((function(t){if(t.type===ia.d.UploadProgress){var e=Math.round(100*t.loaded/t.total);r.next(e)}else t instanceof ia.f&&r.complete()})),i[t.name]={progress:r.asObservable()}})),i},t.\u0275fac=function(e){return new(e||t)(o.ec(ia.b))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),wa=i("0IaG"),Ra=function(){function t(){}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},providers:[Na],imports:[[n.b,Ye.b,wa.b,Oa,ia.c,Pa,c.b.forRoot({loader:{provide:c.a,useFactory:function(t){return new ea.a(t)},deps:[ia.b]}})]]}),t}(),Da=i("7EHt"),Qa=i("zkoq"),Ia={maxFilesize:50,acceptedFiles:"image/*,application/pdf,.xls,.xlsx"},Fa=function(){function t(){}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},providers:[{provide:it.a,useValue:Ia}],imports:[[n.b,a.g.forChild(ta),u.j,nt.b,it.d,s.f,Be.e,l.c,Ye.b,b.e,ya,Je.c,u.v,Ra,Da.a,ji.b,Qa.a,aa.a,$i.c,xa.k,Oa,c.b.forRoot({loader:{provide:c.a,useFactory:function(t){return new ea.a(t)},deps:[ia.b]}})]]}),t}()},"5xEe":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("qCKp");e.Subject=a.Subject},"8yf6":function(t,e,i){}}]);